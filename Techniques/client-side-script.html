
<!DOCTYPE html
  >
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja"><head><meta charset="UTF-8"/><title>クライアントサイドスクリプトの達成方法 | WCAG 2.0 達成方法集
            </title><link rel="stylesheet" type="text/css" href="slicenav.css"/><link rel="stylesheet" type="text/css" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WG-NOTE.css"/><link rel="stylesheet" type="text/css" href="additional.css"/><link rel="stylesheet" type="text/css" href="bytech.css"/></head><body class="slices"><div id="masthead"><p class="logo"><a href="https://www.w3.org/"><img width="72" height="48" alt="W3C" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C"/></a></p><p class="collectiontitle"><a href="Overview.html">WCAG 2.0 達成方法集</a></p></div><div id="skipnav"><p class="skipnav"><a href="#maincontent">Skip to Content (Press Enter)</a></p></div><a name="top"> </a><div class="div1"><a name="maincontent"> </a><h1 id="techs">クライアントサイドスクリプトの達成方法</h1><p>このウェブページは、「<a href="Overview.html">WCAG 2.0 達成方法集 : WCAG 2.0 の達成方法と失敗例</a>」におけるクライアントサイドスクリプトの達成方法を掲載している。ウェブコンテンツ技術特有の達成方法は、「一般 (General)」の達成方法に取って代わるものではない。コンテンツ制作者は適合に向けて作業する際には、「一般 (General)」の達成方法とウェブコンテンツ技術特有の達成方法の双方を考慮に入れる必要がある。</p><p>ウェブコンテンツ技術特有の達成方法は、あらゆる状況で WCAG 2.0 の達成基準と適合要件を満たすコンテンツを作るために使うことができる技術を指しているわけではない。 コンテンツ制作者はその技術の限界に注意を払い、障害のある人にアクセシブルな方法でコンテンツを提供す必要がある。</p><p>達成方法についての情報は、<a href="intro.html">WCAG 2.0 達成方法集のイントロダクション</a>を参照のこと。他のウェブコンテンツ技術の達成方法一覧については、<a href="Overview.html#contents">目次</a>を参照のこと。</p><hr/><nav id="toc"><h2>目次</h2>
<ul class="toc"><li><a href="https://waic.jp/docs/WCAG-TECHS/#abstract">概要 </a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/#status">この文書のステータス</a></li><li><a href="#SCR1">SCR1: 利用者が初期設定の制限時間を延長できるようにする</a></li><li><a href="#SCR2">SCR2: キーボード及びマウスのイベントハンドラを両方とも使用する</a></li><li><a href="#SCR14">SCR14: 不可欠ではないアラートの表示を任意にするために、スクリプトを使用する</a></li><li><a href="#SCR16">SCR16: 制限時間が切れようとしていることを利用者に警告するスクリプトを提供する</a></li><li><a href="#SCR18">SCR18: クライアントサイドのバリデーション及びアラートを提供する</a></li><li><a href="#SCR19">SCR19: select 要素の onchange イベントは、コンテキストの変化を引き起こすことのないように使用する</a></li><li><a href="#SCR20">SCR20: キーボードとその他のデバイス固有の機能を両方とも使用する</a></li><li><a href="#SCR21">SCR21: ページにコンテンツを追加するために、Document Object Model (DOM) の機能を使用する</a></li><li><a href="#SCR22">SCR22: 点滅を制御し、5 秒以内に停止させるために、スクリプトを使用する</a></li><li><a href="#SCR24">SCR24: 利用者の要求に応じて新しいウィンドウを開くために、プログレッシブエンハンスメントを使用する</a></li><li><a href="#SCR26">SCR26: 動的なコンテンツを、Document Object Model の、そのトリガーとなる要素の直後に挿入する</a></li><li><a href="#SCR27">SCR27: Document Object Model を用いて、ページ上にある複数のセクションを並び替える</a></li><li><a href="#SCR28">SCR28: コンテンツのブロックをバイパスするために、展開可能及び折り畳み可能なメニューを使用する</a></li><li><a href="#SCR29">SCR29: 静的な HTML 要素にキーボードアクセシブルなアクションを追加する</a></li><li><a href="#SCR30">SCR30: リンクテキストを変更するために、スクリプトを使用する</a></li><li><a href="#SCR31">SCR31: フォーカスのある要素の背景色又はボーダーを変更するために、スクリプトを使用する</a></li><li><a href="#SCR32">SCR32: クライアントサイドのバリデーションを提供し、DOM を介してエラーテキストを追加する</a></li><li><a href="#SCR33">SCR33: コンテンツをスクロールし、かつそれを一時停止するメカニズムを提供するためにスクリプトを使用する</a></li><li><a href="#SCR34">SCR34: テキストサイズに応じて拡大縮小するように、サイズ及びポジションを定める</a></li><li><a href="#SCR35">SCR35: アンカー及びボタンの onclick イベントを用いて、アクションをキーボード操作可能にする</a></li><li><a href="#SCR36">SCR36: 静的なウィンドウ又は領域にある、動きのあるテキスト、スクロールするテキスト、又は自動更新されるテキストを利用者が表示できるメカニズムを提供する</a></li><li><a href="#SCR37">SCR37: デバイス非依存な方法でカスタムダイアログを作成する</a></li><li><a href="#SCR38">SCR38: プログレッシブエンハンスメントで設計されたウェブページに対して、適合している代替版を作成する</a></li></ul></nav><hr/><div class="body"><div class="div1">
		<div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR1" id="SCR1"> </a>SCR1: 利用者が初期設定の制限時間を延長できるようにする</h2><div class="applicability"><h3 id="SCR1-applicability">適用 (対象)</h3><div class="textbody"><p>クライアントサイドスクリプトによりコントロールされた制限時間。</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#time-limits-required-behaviors">
				達成基準 2.2.1 (タイミング調整可能)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#time-limits-required-behaviors">
						クイックリファレンス 2.2.1 (タイミング調整可能)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/time-limits-required-behaviors.html">
						達成基準 2.2.1 (タイミング調整可能)を理解する
					</a></li></ul><div class="note"><p class="prefix"><em>注記:</em> この達成方法は、<a href="https://waic.jp/docs/WCAG20/Overview.html#time-limits-required-behaviors">達成基準 2.2.1</a> を満たす他の達成方法と組み合わせなければならない。詳細については、 <a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/time-limits-required-behaviors.html">達成基準 2.2.1 を理解する</a>を参照すること。</p></div></li></ul><h3 id="SCR1-description">解説</h3><div class="textbody"><p>この達成方法の目的は、スクリプトがデフォルトの制限時間のある機能を提供する際、その時間を延長するメカニズムを提供することによって、利用者がデフォルトの制限時間を延長できるようにすることである。利用者がより長い制限時間を要求できるようにするために、利用者がより長い制限時間を入力できる、又は
より多くの時間を必要としていることを示す (例えば) フォームをスクリプトが提供することができる。制限時間が切れそうであることを利用者に警告する場合 (<a href="#SCR16"><em>SCR16: 制限時間が切れようとしていることを利用者に警告するスクリプトを提供する</em></a>を参照)、このフォームを警告のダイアログから利用可能にする。どれぐらいの追加時間が必要かを示すことができるようにするか、繰り返し制限時間を延長できるようにすることによって、利用者はデフォルトの制限時間を少なくとも 10 倍延長することができる。</p></div><h3 class="small-head" id="SCR1-examples">事例</h3><ul><li><p>ウェブページに最新の株式市場のデータがあり、定期的に更新されている。利用者が最初の更新の前に警告を受けたとき、利用者には更新の間隔を延長するための選択肢が提供されている。</p></li><li><p>オンラインチェスゲームにおいて、各プレーヤーはそれぞれの動きが終わるまでの制限時間が与えられている。動かせる時間がほとんど終わりであるという警告をプレーヤーが受けたとき、利用者には時間を増やすための選択肢が提供されている。</p></li></ul><h3 id="SCR1-resources">参考リソース</h3><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ol class="enumar"><li><p> 
                  <a href="http://www.phpbuilder.com/tips/item.php?id=141">PHPBuilder Time-out Info</a> 
               </p></li></ol></div><h3 id="SCR1-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/SCR16">SCR16: 制限時間が切れようとしていることを利用者に警告するスクリプトを提供する</a></li></ul></div><h3 id="SCR1-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR1-procedure">手順</h4><ol class="enumar"><li><p>制限時間を強制するためにスクリプトを使用しているウェブページで、制限時間が切れるまで待つ。</p></li><li><p>制限時間を延長する選択肢が提供されているかどうかを判断する。</p></li></ol><h4 class="small-head" id="SCR1-results">期待される結果</h4><ul><li><p>2.の結果が真であり、かつインタラクションを完了するために更なる時間が提供されている。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR2" id="SCR2"> </a>SCR2: キーボード及びマウスのイベントハンドラを両方とも使用する</h2><div class="applicability"><h3 id="SCR2-applicability">適用 (対象)</h3><div class="textbody"><p>スクリプトをサポートしている HTML 及び XHTML</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#keyboard-operation-keyboard-operable">
				達成基準 2.1.1 (キーボード)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#keyboard-operation-keyboard-operable">
						クイックリファレンス 2.1.1 (キーボード)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/keyboard-operation-keyboard-operable.html">
						達成基準 2.1.1 (キーボード)を理解する
					</a></li></ul></li><li><a href="https://waic.jp/docs/WCAG20/Overview.html#keyboard-operation-all-funcs">
				達成基準 2.1.3 (キーボード (例外なし) )</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#keyboard-operation-all-funcs">
						クイックリファレンス 2.1.3 (キーボード (例外なし) )
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/keyboard-operation-all-funcs.html">
						達成基準 2.1.3 (キーボード (例外なし) )を理解する
					</a></li></ul></li></ul><h3 id="SCR2-description">解説</h3><div class="textbody"><p>この達成方法の目的は、マウスやフォーカスのイベントによって装飾画像が変化する、機器に依存しないイベントの使い方を説明することである。<code>onmouseover</code> や onmouseout イベントを使って、マウスがページ中のある要素に重なるか、又は離れたときに装飾画像が変化するようにする。また、<code>onfocus</code> や <code>onblur</code> イベントを使って、要素がフォーカスされたか、フォーカスを失ったかによって画像を変更する。</p><p>下記の例では、アンカー要素の前に装飾画像がある。利用者がアンカータグにマウスオーバーすると、アンカータグの前の装飾画像が変化する。また、マウスがアンカーを離れると、画像は元に戻る。同じ画像の変化は、利用者がキーボードを使ってアンカー要素にフォーカスしたときにも起こる。フォーカスされたときに画像が変化し、フォーカスを失ったときには元の画像に戻る。これは、アンカー要素に <code>onmouseover</code>、<code>onmouseout</code>、<code>onfocus</code> 及び <code>onblur</code> イベントハンドラを付加することで実現できる。このイベントハンドラは JavaScript の関数で updateImage() と呼ばれており、画像の src 属性を変更する。updateImage() は onmouseover、onmouseout、onfocus、及び onblur イベントの応答として呼ばれる。</p><p>それぞれの画像には固有の ID が与えられている。この ID はどちらの画像が使われるかを表す論理値とともに、updateImage() に渡される: <code>updateImage(imgId, isOver);</code>。論理値 true は、マウスがアンカー要素に乗った場合、又はそれがフォーカスされた場合に渡される。false は、マウスがアンカー要素から離れた場合、又はそれがフォーカスを失った場合に渡される。 updateImage() 関数は、画像の ID を使用して画像を読み込み、その後に論理値の状態に応じて src 属性を変更する。画像は装飾目的で使用されているので、alt 属性値は空であることに注意する。</p><div class="note"><p class="prefix"><em>注記: </em>サイズの近い画像を使用し、画像要素では幅と高さの属性値を指定することが望ましい。これは、画像が更新されることによりページのレイアウトが変化してしまうことを防ぐ。例では、同一サイズの画像が使用されている。</p></div></div><h3 class="small-head" id="SCR2-examples">事例</h3><h4 class="small-head" id="SCR2-ex1">事例 1</h4><div class="example"><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd"&gt;
 &lt;html lang="en"&gt;
 &lt;head&gt;
 &lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;
 &lt;title&gt;Changing Image Source in a Device Independent Manner&lt;/title&gt;
 &lt;script type="text/javascript"&gt;
 /* このfunctionは、img要素のsrc属性値を変更する。
  * param imgId - 変更する画像オブジェクトのID
  * param isOver - true: マウスオーバーしたとき、又はオブジェクトがフォーカスを受け取ったとき
  *                false: マウスオーバーを外したとき、又はフォーカスを外したとき
 */
 function updateImage(imgId, isOver) {
   var theImage = document.getElementById(imgId);
   if (theImage != null) { //could use a try/catch block for user agents supporting at least JavaScript 1.4
                           // These browsers support try/catch - NetScape 6, IE 5, Mozilla, Firefox
      if (isOver) {
        theImage.setAttribute("src","yellowplus.gif");
      }
      else {
        theImage.setAttribute("src","greyplus.gif");
      }
   }
 }
 &lt;/script&gt;
 &lt;/head&gt;
 &lt;body&gt;
 &lt;p&gt;Mouse over or tab to the links below and see the image change.&lt;/p&gt;
 &lt;a href="http://www.w3.org/wai" onmouseover="updateImage('wai', true);" onfocus="updateImage('wai', true);"
   onmouseout="updateImage('wai',false);" onblur="updateImage('wai',false);"&gt;
 &lt;img src="greyplus.gif" border="0" alt="" id="wai"&gt;
   W3C Web Accessibility Initiative&lt;/a&gt; &amp;
 &lt;a href="http://www.w3.org/International/" onmouseover="updateImage('i18n', true);" 
   onfocus="updateImage('i18n',true);" onmouseout="updateImage('i18n',false);"
   onblur="updateImage('i18n',false);"&gt;
   &lt;img src="greyplus.gif" border="0" alt="" id="i18n"&gt;
   W3C Internationalization&lt;/a&gt;
 &lt;/body&gt;
 &lt;/html&gt;
</code></pre></div></div><h3 id="SCR2-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR2-procedure">手順</h4><p>ウェブページを読み込み、マウス及びキーボードを用いてイベントを検証する。</p><ol class="enumar"><li><p>ウェブページが読み込まれたとき、「通常の」画像が期待通りに表示されていることを確認する。</p></li><li><p>マウスを使用</p><ol class="enumla"><li><p>イベントハンドラを含む要素の上にマウスを移動する (この事例ではアンカー要素)。画像が期待されている画像に変化することを確認する。</p></li><li><p>マウスを要素から外す。画像が「通常の」画像に戻ることを確認する。</p></li></ol></li><li><p>キーボードを使用</p><ol class="enumla"><li><p>キーボードを使ってイベントハンドラを含む要素にフォーカスを設定する。画像が期待されている画像に変化することを確認する。</p></li><li><p>キーボードを使って要素からフォーカスを外す (一般的には別の要素にフォーカスを移す)。画像が「通常の」画像に戻ることを確認する。</p></li></ol></li><li><p>画像が変更されたときに、ページ上の他の要素のレイアウトに影響がないことを確認する。</p></li></ol><h4 class="small-head" id="SCR2-results">期待される結果</h4><ul><li><p>上記の全ての結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR14" id="SCR14"> </a>SCR14: 不可欠ではないアラートの表示を任意にするために、スクリプトを使用する</h2><div class="applicability"><h3 id="SCR14-applicability">適用 (対象)</h3><div class="textbody"><p>緊急ではない情報提供のアラートにスクリプトを使用するウェブコンテンツ技術</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#time-limits-postponed">
				達成基準 2.2.4 (割り込み)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#time-limits-postponed">
						クイックリファレンス 2.2.4 (割り込み)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/time-limits-postponed.html">
						達成基準 2.2.4 (割り込み)を理解する
					</a></li></ul></li></ul><h3 id="SCR14-description">解説</h3><div class="textbody"><p>この達成方法の目的は、メッセージ (アラート) を含むダイアログを利用者に表示することである。アラートが表示されたとき、それがフォーカスされると、利用者はそれを閉じるためにダイアログの OK ボタンを押さなければならない。これらのアラートにフォーカスが移ってしまうと、特に、緊急ではない情報に使用されたとき、利用者の気が散ってしまうかもしれない。今日の名言、役に立つ小技、又は特定のイベントまでのカウントダウンなど、緊急ではない目的のアラートは、利用者がウェブページに提供された選択肢でそれらを有効にすることなしには現れないようにする。</p><p>この達成方法では、アラートを表示するかどうかの利用者の選択を保存する JavaScript のグローバル変数に割り当てる。初期値は false にする。 ラッパー関数は、アラートを表示する前にこの変数の値をチェックするために作成される。alert() 関数を直接呼び出すよりもむしろ、アラートを表示するすべての呼び出しをこのラッパー関数にかけるようにする。ページの上部には、ページでのアラートの表示を利用者が有効にするためのボタンを提供する。この達成方法は訪問ベースで 1 回の訪問ごとに作動する。ページが読みこまれるたび、アラートは無効にされ、利用者は手動でそれらを有効にしなければならない。あるいは、コンテンツ制作者は、利用者の選択をセッションを越えて保存するためにクッキーを使用することができる。</p></div><h3 class="small-head" id="SCR14-examples">事例</h3><h4 class="small-head" id="SCR14-ex1">事例 1</h4><div class="example"><div class="textbody"><p>以下のスクリプトは、利用者が「アラートを利用する」というボタンを選択するなら、10 秒ごとにアラートボックスに名言を表示する。利用者は再び「アラートを利用しない」を選択することで、名言のアラートボックスを非表示にすることができる。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;script type="text/javascript"&gt;
var bDoAlerts = false;  // アラートを表示するかどうか指定するグローバル変数
/* アラートを有効／無効にする関数。
 * param ブーリアン型 bOn - trueでアラートを有効、falseで無効。
*/
function modifyAlerts(isEnabled) {
   bDoAlerts = isEnabled;
}
/* アラート表示のラッパー関数。bDoAlertsの値をチェックし
* bDoAlertsがtrueのときに alert() 関数を呼び出すだけ。
*/
function doAlert(aMessage) {
    if (bDoAlerts) {
       alert(aMessage);
    }
}
// 例 - 名言を表示するループ。
var gCounter = -1;  // カウンタを保存するグローバル変数
// quotes変数は名言のリストで初期化される
var quotes = new Array("quote 1", "quote 2", "quote 3", "quote 4", "quote 5");
function showQuotes() {
   if (++gCounter &amp;amp;gt;= quotes.length) { //★「&amp;amp;gt;」は「&gt;」ではないでしょうか？★
     gCounter = 0;
   }
   doAlert(quotes[gCounter]);
   setTimeout("showQuotes();", 10000);
}
showQuotes();
&lt;/script&gt;</code></pre></div><div class="textbody"><p>ページの本文内には、アラートを有効にしたり無効する方法を含める。以下はひとつの例である:</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;body&gt;
&lt;p&gt;Press the button below to enable the display of famous quotes 
using an alert box&lt;br /&gt;
&lt;button id="enableBtn" type="button" onclick="modifyAlerts(true);"&gt;
Turn Alerts On&lt;/button&gt;&lt;br /&gt;
&lt;button id="disableBtn" type="button" onclick="modifyAlerts(false);"&gt;
Turn Alerts Off&lt;/button&gt;&lt;/p&gt;
</code></pre></div><div class="textbody"><p>このコードを実装したサンプル: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR14/enablealerts.html">アラートの実装例</a></p></div></div><h3 id="SCR14-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR14-procedure">手順</h4><p>JavaScript の alert を使用した緊急ではない中断をサポートするウェブページにおいて:</p><ol class="enumar"><li><p>ウェブページを読み込んだとき、緊急ではないアラートが表示されないことを確認する。</p></li><li><p>緊急ではないアラートを有効にするメカニズムがあることを確認する。</p></li><li><p>緊急ではないアラートを有効にすると、アラートが表示されることを確認する。</p></li></ol><h4 class="small-head" id="SCR14-results">期待される結果</h4><ul><li><p>JavaScript の alert を使用して緊急ではない中断をサポートするウェブページでは、上記の 1.、2 及び 3 の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR16" id="SCR16"> </a>SCR16: 制限時間が切れようとしていることを利用者に警告するスクリプトを提供する</h2><div class="applicability"><h3 id="SCR16-applicability">適用 (対象)</h3><div class="textbody"><p>
スクリプトによって制御された制限時間
</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#time-limits-required-behaviors">
				達成基準 2.2.1 (タイミング調整可能)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#time-limits-required-behaviors">
						クイックリファレンス 2.2.1 (タイミング調整可能)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/time-limits-required-behaviors.html">
						達成基準 2.2.1 (タイミング調整可能)を理解する
					</a></li></ul><div class="note"><p class="prefix"><em>注記:</em> この達成方法は、<a href="https://waic.jp/docs/WCAG20/Overview.html#time-limits-required-behaviors">達成基準 2.2.1</a> を満たす他の達成方法と組み合わせなければならない。詳細については、 <a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/time-limits-required-behaviors.html">達成基準 2.2.1 を理解する</a>を参照すること。</p></div></li></ul><h3 id="SCR16-description">解説</h3><div class="textbody"><p>この達成方法の目的は、インタラクションを完了させるための時間がほとんど無いことを利用者に通知することである。スクリプトによって、時間制限のある機能が提供される場合には、そのスクリプトは利用者に制限時間が迫っていることを警告する機能を含み、より多くの時間を要求するためのメカニズムを提供することができる。制限時間の 20 秒以上前に、そのスクリプトは制限時間が迫っている事を伝え、利用者がさらに時間を必要とするかどうかを尋ねる確認ダイアログを提供する。もし利用者の答えが「はい」の場合、制限時間をリセットする。もし利用者の答えが「いいえ」又は返答がない場合、制限時間の終了を許可する。</p><p>この達成方法は、<code>window.setTimeout()</code> メソッドで設定された制限時間に関係する。例えば、60 秒で制限時間が切れる設定の場合、制限時間を 40 秒に設定して、確認ダイアログを表示させることができる。確認ダイアログが表示された時、新しく時間制限が残り 20 秒に設定される。「制限時間の猶予期間」の満了時に、当初の設計では 60 秒の制限時間の満了の時にとられていたであろう処置がとられる。</p></div><h3 class="small-head" id="SCR16-examples">事例</h3><h4 class="small-head" id="SCR16-ex1">事例 1</h4><div class="example"><div class="textbody"><p>ある株式市場相場ページは最新の統計を利用可能な状態を確保するため 5 分毎にページを更新するスクリプトを使用している。その 5 分間が終了する 20 秒前に、確認ダイアログが表示され、利用者がページを更新する前にもっと時間が必要かどうかを尋ねる。これにより、利用者に更新が差し迫っていることを認識させるとともに、もし希望するならそれを回避できるようにする。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"&lt;url&gt;http://www.w3.org/TR/html4/loose.dtd"&gt;http://www.w3.org/TR/html4/loose.dtd&lt;/title&gt;"&gt;
&lt;html lang="en"&gt;
&lt;head&gt;

&lt;title&gt;Stock Market Quotes&lt;/title&gt;
&lt;script type="text/javascript"&gt;
&lt;!--
function timeControl() {
	// タイマーを4分40秒に設定し、利用者に確認を求める
	setTimeout('userCheck()', 280000);
}
function userCheck() {
	// ページの再読み込みを20秒に設定する
	var id=setTimeout('pageReload()', 20000);
	// 利用者が「OK」を選択した場合、タイマーがリセットされる
	// それ以外の場合、サーバーによりページが再読み込みされる
	if (confirm("This page is set to refresh in 20 seconds. 
	Would you like more time?"))
	{
	clearTimeout(id);
	timeControl();
	}
}
function pageReload() {
	window.location.reload(true);
}
timeControl();
--&gt;
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Stock Market Quotes&lt;/h1&gt;
...etc...
&lt;/body&gt;
&lt;/html&gt;</code></pre></div></div><h3 id="SCR16-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/SCR1">SCR1: 利用者が初期設定の制限時間を延長できるようにする</a></li></ul></div><h3 id="SCR16-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR16-procedure">手順</h4><p>スクリプトによって時間制限を制御されているウェブページにおいて:</p><ol class="enumar"><li><p>ページを読み込み、制限時間より 20 秒少ないタイマーを開始する。</p></li><li><p>タイマーが切れるとき、間近に迫った時間制限を警告する確認ダイアログが表示されることを確認する。</p></li></ol><h4 class="small-head" id="SCR16-results">期待される結果</h4><ul><li><p>2. の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR18" id="SCR18"> </a>SCR18: クライアントサイドのバリデーション及びアラートを提供する</h2><div class="applicability"><h3 id="SCR18-applicability">適用 (対象)</h3><div class="textbody"><p>利用者の入力を検証するコンテンツ</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#minimize-error-identified">
				達成基準 3.3.1 (エラーの特定)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#minimize-error-identified">
						クイックリファレンス 3.3.1 (エラーの特定)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/minimize-error-identified.html">
						達成基準 3.3.1 (エラーの特定)を理解する
					</a></li></ul></li><li><a href="https://waic.jp/docs/WCAG20/Overview.html#minimize-error-suggestions">
				達成基準 3.3.3 (エラー修正の提案)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#minimize-error-suggestions">
						クイックリファレンス 3.3.3 (エラー修正の提案)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/minimize-error-suggestions.html">
						達成基準 3.3.3 (エラー修正の提案)を理解する
					</a></li></ul></li><li><a href="https://waic.jp/docs/WCAG20/Overview.html#minimize-error-reversible">
				達成基準 3.3.4 (エラー回避 (法的、金融、データ) )</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#minimize-error-reversible">
						クイックリファレンス 3.3.4 (エラー回避 (法的、金融、データ) )
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/minimize-error-reversible.html">
						達成基準 3.3.4 (エラー回避 (法的、金融、データ) )を理解する
					</a></li></ul></li></ul><h3 id="SCR18-description">解説</h3><div class="textbody"><p>この達成方法の目的は、クライアントサイドのスクリプトによって、各フィールドで利用者が入力する値を確認することである。エラーが見つかった場合、警告ダイアログを表示し、エラーの内容をテキストで示す。警告ダイアログを閉じるとともに、スクリプトによってキーボードフォーカスをエラーが起こったフィールドに移動させれば、それは利用者にとって役立つ。</p></div><h3 class="small-head" id="SCR18-examples">事例</h3><h4 class="small-head" id="SCR18-ex1">事例 1: イベントハンドラで単一のコントロールをチェックする</h4><div class="example"><div class="textbody"><p>以下のスクリプトは、有効な日付がフォームのコントロールに入力されたかをチェックする。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;label for="date"&gt;Date:&lt;/label&gt;
&lt;input type="text" name="date" id="date" 
onchange="if(isNaN(Date.parse(this.value))) 
alert('This control is not a valid date. 
Please re-enter the value.');" /&gt;
</code></pre></div></div><h4 class="small-head" id="SCR18-ex2">事例 2: 利用者がフォームを送信したときに複数のコントロールをチェックする</h4><div class="example"><div class="textbody"><p>次の例はフォーム内の複数のコントロールを表している。<code>form</code> 要素は、利用者がフォームを送信しようとした際、検証スクリプトを実行するために、イベントハンドラを作成する <code>onsubmit</code> 属性を用いている。検証で問題がない場合、イベントは <code>true</code> を返し、フォームの送信を続行する。検証でエラーが検出された場合は、利用者が問題を修正できるようエラーメッセージを表示し、送信を取り消すために <code>false</code> を返す。</p><div class="note"><p class="prefix"><em>注記 1:
					</em>この事例は簡潔さのためにアラートを用いて説明している。利用者により役立つ通知は、問題のあるコントロールをハイライトし、エラーの内容とデータの修正が必要なコントロールに移動する方法をページ上に示すことである。</p><p class="prefix"><em>注記 2:
					</em>この事例では簡潔さのために <code>form</code> 要素に <code>onsubmit</code> 属性を用いているが、通常であればページがロードした際にフォーム送信用のイベントリスナーを作成する。</p></div><p>スクリプトコード:</p><div class="code"><pre><code>
function validate() {
	// initialize error message
	var msg = "";
	
	//validate name
	var pattern = /^[a-zA-Z\s]+$/;
	var el = document.getElementById("name");
	if (!pattern.test(el.value))  msg += "Name can only have letters and spaces. ";
	
	// validate number
	var pattern = /^[\d\-+\.\s]+$/;
	var el = document.getElementById("tel");
	if (!pattern.test(el.value))  msg += "Telephone number can only have digits and separators. ";
	
	if (msg != "") {
		alert(msg);
		return false;
	} else return true;
}
</code></pre></div><p>フォームコード:</p><div class="code"><pre><code>
&lt;form action="multiple-controls.html" onsubmit="return validate()"&gt;
	&lt;p&gt;
		&lt;label for="name"&gt;Name: &lt;/label&gt;
		&lt;input type="text" name="name" id="name" /&gt;
	&lt;/p&gt;
	&lt;p&gt;
		&lt;label for="tel"&gt;Telephone number: &lt;/label&gt;
		&lt;input type="text" name="tel" id="tel" /&gt;				
	&lt;/p&gt;
	&lt;p&gt;
		&lt;input type="submit" /&gt;
	&lt;/p&gt;
&lt;/form&gt;
</code></pre></div><p><a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR18/multiple-controls.html">利用者がフォームを送信したときに複数のコントロールをチェックする実装例</a>にこの実装方法のデモがある。</p></div></div><h3 id="SCR18-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/G89">G89: 期待されるデータ書式及び入力例を提供する</a></li></ul></div><h3 id="SCR18-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR18-procedure">手順</h4><p>特定の入力を必要とするフォームのフィールドに対して:</p><ol class="enumar"><li><p>無効なデータを入力する。</p></li><li><p>エラーを説明している警告が提供されているかどうかを判断する。</p></li></ol><h4 class="small-head" id="SCR18-results">期待される結果</h4><ul><li><p>2. の結果が真である</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR19" id="SCR19"> </a>SCR19: select 要素の onchange イベントは、コンテキストの変化を引き起こすことのないように使用する</h2><div class="applicability"><h3 id="SCR19-applicability">適用 (対象)</h3><div class="textbody"><p>スクリプトをサポートする HTML 及び XHTML。この達成方法では、JavaScript 1.4 の try/catch 構文を用いる。</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#consistent-behavior-unpredictable-change">
				達成基準 3.2.2 (入力時)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#consistent-behavior-unpredictable-change">
						クイックリファレンス 3.2.2 (入力時)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/consistent-behavior-unpredictable-change.html">
						達成基準 3.2.2 (入力時)を理解する
					</a></li></ul></li><li><a href="https://waic.jp/docs/WCAG20/Overview.html#consistent-behavior-no-extreme-changes-context">
				達成基準 3.2.5 (要求による変化)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#consistent-behavior-no-extreme-changes-context">
						クイックリファレンス 3.2.5 (要求による変化)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/consistent-behavior-no-extreme-changes-context.html">
						達成基準 3.2.5 (要求による変化)を理解する
					</a></li></ul></li></ul><div class="ua-issues"><h3 class="small-head" id="ua1.6.1">ユーザエージェント及び支援技術によるサポート</h3><p><a href="./ua-notes/client-side-script.html#SCR19">SCR19 に関するユーザエージェントサポートノート</a>を参照のこと。</p></div><h3 id="SCR19-description">解説</h3><div class="textbody"><p>この達成方法の目的は、ウェブページの他の要素を更新する select 要素において onchange イベントを正しく使用する方法を示すことである。この達成方法は、コンテキストの変化を引き起こさない。ウェブページに一つかそれ以上の select 要素があるとき、一方の onchange イベントは、そのウェブページの別の select 要素における選択肢を更新できる。そして、select 要素によって必要とされるデータのすべてが、ウェブページの中に含まれている。</p><p>ウェブページでの音声読み上げ順序において、選択によって変更されるアイテムが、トリガーとなる select 要素の後にあることに注意することが重要である。これは、支援技術が変化を察知するのを確実にし、変更されたアイテムがフォーカスされたとき、利用者は新しいデータを認識する。なお、この達成方法は、ユーザエージェントによる JavaScript のサポート状況に依存する。</p></div><h3 class="small-head" id="SCR19-examples">事例</h3><h4 class="small-head" id="SCR19-ex1">事例 1</h4><div class="example"><div class="textbody"><p>この事例には、二つの select 要素がある。最初の select 要素でアイテムが選択されたとき、二つめの select 要素の選択肢が適切に更新される。最初の select 要素には、大陸のリストがある。そして、二つめの select 要素には、選択された大陸に位置する国々の一部のリストがある。onchange イベントは、大陸の選択に連動している。大陸の選択が変わると、国の選択肢は、ドキュメントオブジェクトモデル (DOM) を通して JavaScript を用いて変更される。必要であるすべてのデータ、国と大陸のリスト、はウェブページの中に含まれている。</p><p>以下のコードの概要:</p><ul><li><p>トリガーとなる select 要素の大陸ごとの国々のリストを含む countryLists 配列</p></li><li><p>大陸の select 要素の onchange イベントによって呼ばれる countryChange() 関数</p></li><li><p>ウェブページの本文の select 要素を作成する XHTML コード</p></li></ul></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;?xml version="1.0" encoding="UTF-8"?&gt; 
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt; 
&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"&gt; 
  &lt;head&gt; 
    &lt;meta http-equiv="content-type" content="text/xhtml; charset=utf-8" /&gt; 
    &lt;title&gt;Dynamic Select Statements&lt;/title&gt; 

&lt;script type="text/javascript"&gt;
 //&lt;![CDATA[ 
 // 国の選択項目のリストに現れるのと同じ順の選択可能な国の配列 
 var countryLists = new Array(4) 
 countryLists["empty"] = ["Select a Country"]; 
 countryLists["North America"] = ["Canada", "United States", "Mexico"]; 
 countryLists["South America"] = ["Brazil", "Argentina", "Chile", "Ecuador"]; 
 countryLists["Asia"] = ["Russia", "China", "Japan"]; 
 countryLists["Europe"]= ["Britain", "France", "Spain", "Germany"]; 
 /* CountryChange() はselect要素のonchangeイベントから呼び出される。 
 * param selectObj - onchangeイベントで生成されるselectオブジェクト。
 */ 
 function countryChange(selectObj) { 
 // 選択された選択肢のインデックスを得る 
 var idx = selectObj.selectedIndex; 
 // 選択された選択肢の値を得る 
 var which = selectObj.options[idx].value; 
 // countryLists 配列から項目のリストを検索するために選択された選択肢の値を使う 
 cList = countryLists[which]; 
 // そのIDを通して国のselect要素を得る
 var cSelect = document.getElementById("country"); 
 // 国のリストから現在の選択肢を削除する 
 var len=cSelect.options.length; 
 while (cSelect.options.length &gt; 0) { 
 cSelect.remove(0); 
 } 
 var newOption; 
 // 新しい選択肢を生成する 
 for (var i=0; i&lt;cList.length; i++) { 
 newOption = document.createElement("option"); 
 newOption.value = cList[i];  // 選択肢の文字列と値は同じとする 
 newOption.text=cList[i]; 
 // 新しい選択肢を追加する 
 try { 
 cSelect.add(newOption);  // これはDOMをサポートするブラウザでは失敗するが、IEには必要 
 } 
 catch (e) { 
 cSelect.appendChild(newOption); 
 } 
 } 
 } 
//]]&gt;
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;noscript&gt;This page requires JavaScript be available and enabled to function properly&lt;/noscript&gt;
  &lt;h1&gt;Dynamic Select Statements&lt;/h1&gt;
  &lt;label for="continent"&gt;Select Continent&lt;/label&gt;
  &lt;select id="continent" onchange="countryChange(this);"&gt;
    &lt;option value="empty"&gt;Select a Continent&lt;/option&gt;
    &lt;option value="North America"&gt;North America&lt;/option&gt;
    &lt;option value="South America"&gt;South America&lt;/option&gt;
    &lt;option value="Asia"&gt;Asia&lt;/option&gt;
    &lt;option value="Europe"&gt;Europe&lt;/option&gt;
  &lt;/select&gt;
  &lt;br/&gt;
  &lt;label for="country"&gt;Select a country&lt;/label&gt;
  &lt;select id="country"&gt;
    &lt;option value="0"&gt;Select a country&lt;/option&gt;
  &lt;/select&gt;
&lt;/body&gt;
 &lt;/html&gt;</code></pre></div><div class="textbody"><p>このコードの実装サンプル: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR19/dynselect.html">動的なセレクトメニュー</a>
              
                     </p></div></div><h3 id="SCR19-resources">参考リソース</h3><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>
                  <a href="http://usability.com.au/2008/09/accessible-forms-using-wcag-2-0/">Accessible Forms using WCAG 2.0</a>
               </p></li></ul></div><h3 id="SCR19-related-techs">関連する達成方法</h3><div class="textbody"><p>(今のところ、なし。)</p></div><h3 id="SCR19-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR19-procedure">手順</h4><ol class="enumar"><li><p>トリガーとなる select 要素 (この事例では、大陸を選択するセレクトメニュー) に移動し、選択肢の値を変える。</p></li><li><p>トリガーによって更新された select 要素 (この事例では、国を選択するセレクトメニュー) へ移動する。</p></li><li><p>一致する選択肢の値が、他の select 要素に表示されていることを確認する。</p></li><li><p>トリガーとなる select 要素へ移動し、選択肢へ移動するが、値を変えない。</p></li><li><p>一致する選択肢の値が、関連付けられた要素にまだ表示されていることを確認する。</p></li></ol><p>関連付けられた要素の変化が認識されることを確かめるために、select 要素を支援技術を用いて検証することが望ましい。</p><h4 class="small-head" id="SCR19-results">期待される結果</h4><ul><li><p>3. 及び 5. の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR20" id="SCR20"> </a>SCR20: キーボードとその他のデバイス固有の機能を両方とも使用する</h2><div class="applicability"><h3 id="SCR20-applicability">適用 (対象)</h3><div class="textbody"><p>機能を実装するためにスクリプトを用いる全てのコンテンツ</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#keyboard-operation-keyboard-operable">
				達成基準 2.1.1 (キーボード)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#keyboard-operation-keyboard-operable">
						クイックリファレンス 2.1.1 (キーボード)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/keyboard-operation-keyboard-operable.html">
						達成基準 2.1.1 (キーボード)を理解する
					</a></li></ul></li><li><a href="https://waic.jp/docs/WCAG20/Overview.html#keyboard-operation-all-funcs">
				達成基準 2.1.3 (キーボード (例外なし) )</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#keyboard-operation-all-funcs">
						クイックリファレンス 2.1.3 (キーボード (例外なし) )
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/keyboard-operation-all-funcs.html">
						達成基準 2.1.3 (キーボード (例外なし) )を理解する
					</a></li></ul></li></ul><h3 id="SCR20-description">解説</h3><div class="textbody"><p>この達成方法の目的は、イベントと関連付けられたスクリプト機能を含むコードを伴った、キーボード固有及びマウス固有のイベント双方の使用を明示することである。キーボード固有及びマウス固有のイベントを一緒に用いることにより、さまざまな種類の機器でコンテンツを操作できることを保証することができる。例えば、スクリプトが keypress を認識したときに、マウスボタンをクリックしたときと同じ動作を行うことができるようにする。このテクニックにより、キーボードによるアクセスだけでなく他の機器によるアクセスの達成基準を満たすことができる。</p><p>JavaScript でよく使用されるイベントハンドラには、onblur、onchange、onclick、ondblclick、onfocus、onkeydown、onkeypress、onkeyup、onload、onmousedown、onmousemove、onmouseout、onmouseover、onmouseup、onreset、onselect、onsubmit、onunload が含まれる。いくつかのマウス固有の機能には、論理的に対応するキーボード固有の機能がある (例えば 'onmouseover' と 'onfocus' のように)。キーボード向けのイベントハンドラは、対応するマウス向けの機能とともに提供すべきである。</p><p>次の表は、マウスイベントハンドラに対応するキーボードイベントハンドラの候補である。</p><table border="1" cellspacing="0"><caption>対応表	</caption><tbody><tr><th scope="col">マウス向け</th><th scope="col">キーボード向け</th></tr><tr><td><code>mousedown</code></td><td><code>keydown</code></td></tr><tr><td><code>mouseup</code></td><td><code>keyup</code></td></tr><tr><td>
<code>click</code> <sup>[1]</sup>
</td><td><code>keypress</code> <sup>[2]</sup></td></tr><tr><td><code>mouseover</code></td><td><code>focus</code></td></tr><tr><td><code>mouseout</code></td><td><code>blur</code></td></tr></tbody></table><p><sup>1</sup> <code>click</code> は基本的にはマウスのイベントハンドラであるが、ほとんどの HTML 及び XHTML 向けのユーザエージェントは、HTML のネイティブコントロール (例: ボタン又はリンク) が有効化された場合、マウス又はキーボードのどちらで有効化されたかにかかわらず、イベントを処理することができる。そのため、もともとフォーカスできる HTML 要素にハンドラを追加するときは、実際にはキーボード用のイベントを補完する必要はない。しかし、下記の事例 2 のように他のイベントにハンドラを追加するときは、必要である。</p><p><sup>2</sup> <code>keypress</code> イベントハンドラは、どのキーに対しても有効であることから、そのイベントハンドラ関数では、イベントを処理する前に、Enter キーが押されたかどうかをチェックすべきである。そうでなければ、イベントハンドラは利用者が任意のキーを押すたびに実行され、コントロールから抜けるために Tab キーを押すような場合にも実行されるので、通常は望ましくない。</p><p>(<code>dblclick</code> 及び <code>mousemove</code> のような) いくつかのマウス固有の機能には、対応するキーボード固有の機能がない。つまり、いくつかの機能は機器別に違った実装をしなければならないということである (例えば、実装されているマウス固有の機能と同等の機能を、キーボードから実行するための一連のボタン操作を含むようにする)。</p></div><h3 class="small-head" id="SCR20-examples">事例</h3><h4 class="small-head" id="SCR20-ex1">事例 1</h4><div class="example"><div class="textbody"><p>この画像リンクの例では、利用者がポインタを画像に重ねると画像が変化する。キーボード利用者に同様の体験を提供するには、利用者が画像リンクに Tab キーで移動した場合に、画像を変化させればよい。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;a href="menu.php" onmouseover="swapImageOn('menu')" onfocus="swapImageOn('menu')" 
onmouseout="swapImageOff('menu')" onblur="swapImageOff('menu')"&gt; 
&lt;img id="menu" src="menu_off.gif" alt="Menu" /&gt; 
&lt;/a&gt;</code></pre></div></div><h4 class="small-head" id="SCR20-ex2">事例 2</h4><div class="example"><div class="textbody"><p>この事例では、マウスとキーボードの両方を用いて機能を実行できる画像のカスタムコントロールを紹介している。マウスイベントの <code>onclick</code> は、対応するキーボードイベントの <code>onkeypress</code> によって補完されている。<code>tabindex</code> 属性は、キーボードを用いて Tab キーで移動した際に、画像の上で停止させるためのものである。この事例では <code>nextPage()</code> 関数が、押されたキーボードのキーがEnterであることを確認すべきであり、そうでない場合は、画像がフォーカスを持つ間にすべてのキーボード動作に応答するが、これは期待される動作ではないことに注意する。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;img onclick="nextPage();" onkeypress="nextPage();" tabindex="0" src="arrow.gif" 
alt="Go to next page"&gt; </code></pre></div><div class="textbody"><div class="note"><p class="prefix"><em>注記: </em>この例では <code>img</code> 要素に tabindex を用いている。現時点では (文法的に) 妥当ではないが、この機能を実装するための古典的なテクニックとして用いられている。このようなカスタムコントロールでは、コントロールの役割 (role) と状態 (state) を支援技術に引き渡すために WAI-ARIA も用いるべきである。</p></div></div></div><h3 id="SCR20-resources">参考リソース</h3><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p> 
                  <a href="http://webaim.org/techniques/javascript/">Overview of Creating Accessible JavaScript</a> 
               </p></li></ul></div><h3 id="SCR20-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/G90">G90: キーボードがトリガーとなるイベントハンドラを提供する</a></li></ul></div><h3 id="SCR20-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR20-procedure">手順</h4><ol class="enumar"><li><p>全てのインタラクティブな機能を探す。</p></li><li><p>それらのインタラクティブな機能全てに、キーボードだけを使ってアクセスできることを確認する。</p></li></ol><h4 class="small-head" id="SCR20-results">期待される結果</h4><ul><li><p>2. の結果が真である</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR21" id="SCR21"> </a>SCR21: ページにコンテンツを追加するために、Document Object Model (DOM) の機能を使用する</h2><div class="applicability"><h3 id="SCR21-applicability">適用 (対象)</h3><div class="textbody"><p>HTML 及び XHTML の中で利用される ECMAScript</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#content-structure-separation-programmatic">
				達成基準 1.3.1 (情報及び関係性)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#content-structure-separation-programmatic">
						クイックリファレンス 1.3.1 (情報及び関係性)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html">
						達成基準 1.3.1 (情報及び関係性)を理解する
					</a></li></ul></li></ul><div class="ua-issues"><h3 class="small-head" id="ua1.8.1">ユーザエージェント及び支援技術によるサポート</h3><p><a href="./ua-notes/client-side-script.html#SCR21">SCR21 に関するユーザエージェントサポートノート</a>を参照のこと。</p></div><h3 id="SCR21-description">解説</h3><div class="textbody"><p>この達成方法の目的は、<code>document.write</code> 又は <code>object.innerHTML</code> の代わりに Document Object Model (DOM) の機能を用いて、ページ中にコンテンツを追加することである。<code>document.write()</code> メソッドは XHTML で正しい MIME タイプ (application/xhtml+xml) が指定されているときに動作せず、<code>innerHTML</code> プロパティは DOM の仕様ではないため利用すべきでない。もし DOM の機能を利用してコンテンツを追加すれば、ユーザエージェントは DOM にアクセスしてコンテンツを取り込むことができる。<code>createElement()</code> 関数を使って DOM の中に要素を作成することもできる。<code>createTextNode()</code> は要素に関連付けられたテキストを作成するのに用いられる。<code>appendChild()</code>、<code>removeChild()</code>、<code>insertBefore()</code> 及び <code>replaceChild()</code> 関数は、要素やノードを追加したり削除したりするのに用いられる。その他の DOM 関数は、作成された要素に属性を与えるときに使用される。</p><div class="note"><p class="prefix"><em>注記: </em>フォーカス可能な要素を文書に追加するとき、<code>tabindex</code> 属性を用いて明示的なタブ順序を指定してはならない。なぜなら、文書の中央にフォーカス可能な要素を追加するときに問題が発生するからである。<code>tabindex</code> 属性を明示的に設定しないことで、デフォルトのタブ順序が新しい要素に割り当てられるようにする。</p></div><div class="note"><p class="prefix"><em>訳注 1:
					</em><a href="https://www.w3.org/TR/html52/webappapis.html#documentwrite">HTML 5.2§7.4.3. document.write()</a> の Warning でも述べられているように、たとえ HTML (MIME タイプ text/html) であっても <code>document.write()</code> の使用は勧められていない。</p><p class="prefix"><em>訳注 2:
					</em><code>innerHTML</code> は 2018 年現在、<a href="https://w3c.github.io/DOM-Parsing/#dfn-innerhtml">DOM Parsing and Serialization</a> 仕様で定義されている。</p></div><div xmlns="" class="note"><p class="prefix"><em>訳注:</em> WAIC では 
SCR21
 に関する<a href="https://waic.jp/docs/as/">アクセシビリティ・サポーテッド（AS）情報</a>を提供している。</p><p>2014 年 6 月版の<a href="https://waic.jp/docs/as/info/201406/SCR21.html">アクセシビリティ・サポーテッド（AS）情報: SCR21</a>
    では、「達成可能」と評価されている。WAIC はこの達成方法が検証した環境で広く動作すると判断している。
  </p></div></div><h3 class="small-head" id="SCR21-examples">事例</h3><h4 class="small-head" id="SCR21-ex1">事例 1</h4><div class="example"><div class="textbody"><p>この例では、クライアントサイドスクリプトの使用法として、フォームの検証方法を紹介している。もしエラーがみつかれば、適切なエラーメッセージが表示される。この例では DOM 関数を使用し、タイトル、エラーに関する短い説明、及びエラー一覧の順序付リストを含むエラー通知を追加している。タイトルの内容はリンクとして書かれているので、focus メソッドを使って利用者の注意をエラーに向けることができる。個別のリスト項目もまた、リンクとして書かれているので、そのリンク先に移動したときにエラーのあるフォームのフィールドにフォーカスできるように書かれている。</p><p>この例では、簡単にするために二つのテキストフィールドだけを検証しているが、一般的なフォームハンドラにするために容易に拡張することができる。クライアントサイドの検証は、それを唯一の検証とすべきではなく、サーバーサイドの検証でも確認するべきである。クライアントサイドでの検証の利点は、利用者にすぐにフィードバックを提供することで、サーバーからエラーが帰ってくるまでの間、彼らを待たせることがないこと、及びサーバーへの余計なトラフィックを軽減できることである。</p><p>次の例はフォームにイベントハンドラを追加するスクリプトである。もしスクリプトが有効であれば、サーバーにフォームが送信される前に validateNumbers() 関数がクライアントサイドの検証のために呼び出される。もしスクリプトが有効でなければ、フォームはすぐにサーバー側に送信されるので、検証機能はサーバーにも実装されるべきである。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
window.onload = initialise;
function initialise()
{
  // 標準に準拠したユーザエージェントが対象
  if (!document.getElementById || !document.createElement || !document.createTextNode)
    return;

  // フォームにイベントハンドラを付加
  var objForm = document.getElementById('numberform');
  objForm.onsubmit= function(){return validateNumbers(this);};
} </code></pre></div><div class="textbody"><p>次の例は validation の機能である。エラーメッセージの要素を作成するために createElement()、createTextNode()、及び appendChild() DOM 関数を使用しているところに注目して欲しい。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
function validateNumbers(objForm)
{
  // フィールドを検証
  var bFirst = isNumber(document.getElementById('num1').value);
  var bSecond = isNumber(document.getElementById('num2').value);
  // 問題がある場合、エラーを表示
  if (!bFirst || !bSecond)
  {
    var objExisting = document.getElementById('validationerrors');
    var objNew = document.createElement('div');
    var objTitle = document.createElement('h2');
    var objParagraph = document.createElement('p');
    var objList = document.createElement('ol');
    var objAnchor = document.createElement('a');
    var strID = 'firsterror';
    var strError;
    // 見出し要素にリンクを含めることによって、スクリーンリーダーは
    // フォーカスを置くことができる － そのリンク先はエラー一覧の中で 
    // 一番最初のエラー項目とする
    objAnchor.appendChild(document.createTextNode('Errors in Submission'));
    objAnchor.setAttribute('href', '#firsterror');
    objTitle.appendChild(objAnchor);
    objParagraph.appendChild(document.createTextNode('Please review the following'));
    objNew.setAttribute('id', 'validationerrors');
    objNew.appendChild(objTitle);
    objNew.appendChild(objParagraph);
    // 発見したエラーすべてをエラー一覧に追加
    if (!bFirst)
    {
      strError = 'Please provide a numeric value for the first number';
      objList.appendChild(addError(strError, '#num1', objForm, strID));
      strID = '';
    }
    if (!bSecond)
    {
      strError = 'Please provide a numeric value for the second number';
      objList.appendChild(addError(strError, '#num2', objForm, strID));
      strID = '';
    }
    // エラー情報に一覧を追加
    objNew.appendChild(objList);
    // 既存のエラーがあった場合、新規のエラーと置き換える
    // あるいは、新規のエラーをフォームの先頭に追加する
    if (objExisting)
      objExisting.parentNode.replaceChild(objNew, objExisting);
    else
    {
      var objPosition = objForm.firstChild;
      objForm.insertBefore(objNew, objPosition);
    }
    // フォーカスを見出しにあるアンカーに置いて、スクリーンリーダーに
    // 対してエラーがあることを警告する
    objAnchor.focus();
    // フォームを送信しない
    objForm.submitAllowed = false;
    return false;
  }
  return true;
}

// 数字を検証する関数
function isNumber(strValue)
{
  return (!isNaN(strValue) &amp;amp;&amp;amp; strValue.replace(/^\s+|\s+$/, '') !== '');
} </code></pre></div><div class="textbody"><p>以下は、エラーメッセージを作成して、関連するフォームのフィールドにフォーカスさせるための補助関数である。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
// エラー内容を説明する、エラーのフォームフィールドへのリンクの
// リスト項目を作成する関数
function addError(strError, strFragment, objForm, strID)
{
  var objAnchor = document.createElement('a');
  var objListItem = document.createElement('li');
  objAnchor.appendChild(document.createTextNode(strError));
  objAnchor.setAttribute('href', strFragment);
  objAnchor.onclick = function(event){return focusFormField(this, event, objForm);};
  objAnchor.onkeypress = function(event){return focusFormField(this, event, objForm);};
  // strIDに値がある場合、これがリストで一番目のエラーとなる
  if (strID.length &gt; 0)
    objAnchor.setAttribute('id', strID);
  objListItem.appendChild(objAnchor);
  return objListItem;
}

// エラーのフォームフィールドにフォーカスを置く関数
function focusFormField(objAnchor, objEvent, objForm)
{
  // キーボードナビゲーションを可能にするAllow keyboard navigation over links
  if (objEvent &amp;amp;&amp;amp; objEvent.type == 'keypress')
    if (objEvent.keyCode != 13 &amp;amp;&amp;amp; objEvent.keyCode != 32)
      return true;
  // フォーカスをフォームコントロールに設定する
  var strFormField = objAnchor.href.match(/[^#]\w*$/);
  objForm[strFormField].focus();
  return false;
} </code></pre></div><div class="textbody"><p>以下は事例のフォーム用 HTML である。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;title&gt;ECMAScript Form Validation&lt;/title&gt;
	&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"&gt;
	&lt;script type="text/javascript" src="validate.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Form Validation&lt;/h1&gt;
&lt;form id="numberform" method="post" action="form.php"&gt;
&lt;fieldset&gt;
&lt;legend&gt;Numeric Fields&lt;/legend&gt;
&lt;p&gt;
&lt;label for="num1"&gt;Enter first number&lt;/label&gt;
&lt;input type="text" size="20" name="num1" id="num1"&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;label for="num2"&gt;Enter second number&lt;/label&gt;
&lt;input type="text" size="20" name="num2" id="num2"&gt;
&lt;/p&gt;
&lt;/fieldset&gt;
&lt;p&gt;
&lt;input type="submit" name="submit" value="Submit Form"&gt;
&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div><div class="textbody"><p>この例はクライアントサイドスクリプトに限定しているため、サーバーサイドの検証によって補完されるべきである。例では、クライアントサイドスクリプトが利用できるときのエラーメッセージの作成に限定される。</p><p>このコードの実装サンプル: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR21/ex1.html">フォームの検証</a> </p></div></div><h3 id="SCR21-resources">参考リソース</h3><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>HTML 4.01  <a href="http://www.webreference.com/js/column44/index.html">The Document Object Model, More methods</a> from Webreference.com
									</p></li><li><p>
                  <a href="http://usability.com.au/2008/09/accessible-forms-using-wcag-2-0/">Accessible Forms using WCAG 2.0</a>
               </p></li></ul></div><h3 id="SCR21-related-techs">関連する達成方法</h3><div class="textbody"><p>(今のところ、なし。)</p></div><h3 id="SCR21-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR21-procedure">手順</h4><p>動的に新しいコンテンツを作成するページに対して:</p><ol class="enumar"><li><p>ソースコードを検証して、新しいコンテンツが document.write()、innerHTML、outerHTML、innerText 又は outerText を用いて作成されていないことを確認する。</p></li></ol><div class="note"><p class="prefix"><em>訳注: </em><a href="#SCR21-description">解説</a>の訳注で示した <code>document.write()</code>、<code>innerHTML</code> に加えて、<code>outerHTML</code> は 2018 年現在、<a href="https://w3c.github.io/DOM-Parsing/#dfn-outerhtml">DOM Parsing and Serialization</a> 仕様で定義されており、<code>innerText</code> は <a href="https://www.w3.org/TR/html52/dom.html#the-innertext-idl-attribute">HTML 5.2§3.2.6. The innerText IDL attribute</a> で定義されている。したがって、手順 1 に示されるものに関しては、<code>outerText</code> のみが非標準である。<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/outerText">HTMLElement.outerText - Web APIs | MDN</a> も参照のこと。</p></div><h4 class="small-head" id="SCR21-results">期待される結果</h4><ul><li><p>1. の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR22" id="SCR22"> </a>SCR22: 点滅を制御し、5 秒以内に停止させるために、スクリプトを使用する</h2><div class="applicability"><h3 id="SCR22-applicability">適用 (対象)</h3><div class="textbody"><p>スクリプトで制御されたコンテンツの点滅をサポートするウェブコンテンツ技術</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#time-limits-pause">
				達成基準 2.2.2 (一時停止、停止、非表示)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#time-limits-pause">
						クイックリファレンス 2.2.2 (一時停止、停止、非表示)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/time-limits-pause.html">
						達成基準 2.2.2 (一時停止、停止、非表示)を理解する
					</a></li></ul></li></ul><h3 id="SCR22-description">解説</h3><div class="textbody"><p>この達成方法の目的は、スクリプトによる点滅を、5 秒未満で停止する設定にできるよう制御することである。 スクリプトを用いて、コンテンツの点滅効果を開始し、表示と非表示の状態切り替えを制御し、そして 5 秒以下で停止させる。<code>setTimeout()</code> 関数を用いて、点滅するコンテンツの表示と非表示の状態を切り替え、点滅の回数と所要時間の積が 5 秒近くになった時に停止させる。</p></div><h3 class="small-head" id="SCR22-examples">事例</h3><h4 class="small-head" id="SCR22-ex1">事例 1</h4><div class="example"><div class="textbody"><p>この例では、JavaScript を用いて HTML 及び XHTML コンテンツの点滅を制御する。JavaScript は、コンテンツの表示状態を制御して点滅効果を生みだす。効果の開始を制御し、5 秒以内に停止させる。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>...
&lt;div id="blink1" class="highlight"&gt;New item!&lt;/div&gt;
&lt;script type="text/javascript"&gt;
&lt;!--
// 点滅「on」状態
function show()
{
	if (document.getElementById)
	document.getElementById("blink1").style.visibility = "visible";
}
// 点滅「off」状態
function hide()
{
	if (document.getElementById)
	document.getElementById("blink1").style.visibility = "hidden";
}
// 点滅効果を出すために「on」と「off」の状態を450ミリ秒ごとに切り替え
// 4500ミリ秒後に終了 (5秒未満)
for(var i=900; i &lt; 4500; i=i+900)
{
	setTimeout("hide()",i);
	setTimeout("show()",i+450);
}
--&gt;
&lt;/script&gt;
...</code></pre></div><div class="textbody"><p>このコードの実装サンプル: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR22/ex1.html">点滅をコントロールするために、スクリプトを使用する</a></p></div></div><h3 id="SCR22-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR22-procedure">手順</h4><p>点滅しているコンテンツのそれぞれのインスタンスに対して:</p><ol class="enumar"><li><p>点滅効果が開始される時、5 秒間のタイマーを開始させる。</p></li><li><p>タイマーが切れるとき、点滅が停止している。</p></li></ol><h4 class="small-head" id="SCR22-results">期待される結果</h4><ul><li><p>点滅しているコンテンツのそれぞれのインスタンスに対して、2. の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR24" id="SCR24"> </a>SCR24: 利用者の要求に応じて新しいウィンドウを開くために、プログレッシブエンハンスメントを使用する</h2><div class="applicability"><h3 id="SCR24-applicability">適用 (対象)</h3><div class="textbody"><p>HTML 4.01 及び XHTML 1.0 </p><div class="note"><p class="prefix"><em>訳注: </em>HTML4 及び XHTML 1.0 は Superseded Recommendation としてマークされ、廃止された仕様である。</p></div></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#consistent-behavior-no-extreme-changes-context">
				達成基準 3.2.5 (要求による変化)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#consistent-behavior-no-extreme-changes-context">
						クイックリファレンス 3.2.5 (要求による変化)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/consistent-behavior-no-extreme-changes-context.html">
						達成基準 3.2.5 (要求による変化)を理解する
					</a></li></ul></li></ul><h3 id="SCR24-description">解説</h3><div class="textbody"><p>この達成方法の目的は、利用者が要求していない新しいウィンドウの出現によって引き起こされうる混乱を回避することである。突然新しいウィンドウが開くと、利用者は混乱したり、そのことに気づかなかったりする。文書型が <code>target</code> 属性を認めていない場合 (HTML 4.01 Strict や XHTML 1.0 Strict には存在しない)、又はコンテンツ制作者が <code>target</code> 属性の使用を好まない場合には、ECMAScript を用いて新しいウィンドウを開くことができる。以下にある事例は、スクリプトを用いて新しいウィンドウを開く方法を示している。その事例では、リンク (<code>a</code> 要素) にイベントハンドラを追加して、利用者にリンク先のコンテンツが新しいウィンドウで開くことを事前に知らせている。</p></div><h3 class="small-head" id="SCR24-examples">事例</h3><h4 class="small-head" id="SCR24-ex1">事例 1</h4><div class="example"><div class="textbody"><p>マークアップ:</p><p>スクリプトはドキュメントの <code>head</code> 要素内に組み込まれており、リンクにはスクリプトのフックとなる <code>id</code> 属性がある。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;script type="text/javascript" src="popup.js"&gt;&lt;/script&gt;
…
&lt;a href="help.html" id="newwin"&gt;Show Help&lt;/a</code></pre></div><div class="textbody"><p>スクリプト:</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
// ブラウザによるイベント登録のサポートは不十分だが
// 従来のイベントモデルを用いる
window.onload = addHandlers;

function addHandlers()
{
  var objAnchor = document.getElementById('newwin');

  if (objAnchor)
  {
    objAnchor.firstChild.data = objAnchor.firstChild.data + ' (opens in a new window)';
    objAnchor.onclick = function(event){return launchWindow(this, event);}
    // UAAG ではユーザエージェントにデバイス非依存な方法でイベントを処理することを
    // 要求しているが、そうしないブラウザが多いのでキーボードイベントを追加する
    objAnchor.onkeypress = function(event){return launchWindow(this, event);}
  }
}

function launchWindow(objAnchor, objEvent)
{
  var iKeyCode, bSuccess=false;

  // キーボードからのイベントである場合、利用者がリンクをリクエストしたときだけ
  // 新しいウィンドウを開くようにする (リターン又はスペース)
  if (objEvent &amp;amp;&amp;amp; objEvent.type == 'keypress')
  {
    if (objEvent.keyCode)
      iKeyCode = objEvent.keyCode;
    else if (objEvent.which)
      iKeyCode = objEvent.which;

    // キャリッジリターン又はスペースではない場合、ユーザエージェントが
    // アクションの処理を継続するようにtrueを返す
    if (iKeyCode != 13 &amp;amp;&amp;amp; iKeyCode != 32)
      return true;
  }

  bSuccess = window.open(objAnchor.href);

  // ウィンドウが開かなかった場合、ブラウザには同じウィンドウで開くという
  // デフォルトのアクションを継続させる
  if (!bSuccess)
    return true;

  // ウィンドウが開いたら、ブラウザによる処理をそこで止める
  return false;
} </code></pre></div></div><h3 id="SCR24-resources">参考リソース</h3><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>
                  <a href="https://en.wikipedia.org/wiki/Progressive_enhancement">Wikipedia: Progressive Enhancement</a>
               </p></li></ul></div><h3 id="SCR24-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/H83">H83: 利用者の要求に応じて新しいウィンドウを開くために target 属性を使用して、そのことをリンクテキストで明示する</a></li></ul></div><h3 id="SCR24-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR24-procedure">手順</h4><ol class="enumar"><li><p>ドキュメントにあるリンクを起動して、新しいウィンドウが開くかどうかを確認する。</p></li><li><p>新しいウィンドウを開くリンクごとに、次のいずれかを達成するためにスクリプトを用いることを確認する:</p><ol class="enumla"><li><p>リンクが新しいウィンドウを開くことを明示している</p></li><li><p>デバイス非依存のイベントハンドラを用いている</p></li><li><p>新しいウィンドウを開けない場合、ブラウザが同じウィンドウにリンク先のコンテンツを開くことができる。</p></li></ol></li></ol><h4 class="small-head" id="SCR24-results">期待される結果</h4><ul><li><p>2.の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR26" id="SCR26"> </a>SCR26: 動的なコンテンツを、Document Object Model の、そのトリガーとなる要素の直後に挿入する</h2><div class="applicability"><h3 id="SCR26-applicability">適用 (対象)</h3><div class="textbody"><p>HTML 及び XHTML、スクリプト</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#navigation-mechanisms-focus-order">
				達成基準 2.4.3 (フォーカス順序)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#navigation-mechanisms-focus-order">
						クイックリファレンス 2.4.3 (フォーカス順序)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/navigation-mechanisms-focus-order.html">
						達成基準 2.4.3 (フォーカス順序)を理解する
					</a></li></ul></li></ul><h3 id="SCR26-description">解説</h3><div class="textbody"><p>この達成方法の目的は、Document Object Model (DOM) に挿入されたユーザインタフェースの要素をタブ順序及びスクリーンリーダーの読み上げ順序がユーザエージェント標準のふるまいによって正しく設定されるような方法で配置することである。この達成方法は、メニューやダイアログのように隠れているものと表示されているもの、全てのユーザインタフェース要素に利用することができる。</p><p>スクリーンリーダーの読み上げ順序は、Document Object Model 内の HTML 又は XHTML の要素の順序に基づいており、それはタブ順序についても同様である。この達成方法では、新しいコンテンツを DOM のそのトリガーとなる要素の直後に挿入する。トリガーとなる要素は、リンク又はボタンでなければならず、スクリプトはその onclick イベントにより呼び出されなければならない。これらの要素はもともとフォーカス可能であり、その onclick イベントはデバイスに依存しない。フォーカスは選択された要素に残り、その後に挿入された新しいコンテンツは、タブ順序及びスクリーンリーダーの読み上げ順序の両方において、次の順番となる。</p><p>この達成方法は同期された更新にも利用できることに注目して欲しい。(AJAX と呼ばれることのある) 非同期の更新では、支援技術に非同期のコンテンツが挿入されたことを通知するために追加の達成方法が必要となる。</p><div xmlns="" class="note"><p class="prefix"><em>訳注:</em> WAIC では 
SCR26
 に関する<a href="https://waic.jp/docs/as/">アクセシビリティ・サポーテッド（AS）情報</a>を提供している。</p><p>2014 年 6 月版の<a href="https://waic.jp/docs/as/info/201406/SCR26.html">アクセシビリティ・サポーテッド（AS）情報: SCR26</a>
    では、「達成可能」と評価されている。WAIC はこの達成方法が検証した環境で広く動作すると判断している。
  </p></div></div><h3 class="small-head" id="SCR26-examples">事例</h3><h4 class="small-head" id="SCR26-ex1">事例 1</h4><div class="example"><div class="textbody"><p>この例では、リンクがクリックされた際にメニューを生成し、そのリンクの後に挿入する。リンクの onclick イベントは新しいメニューのための ID をパラメータとして渡す ShowHide スクリプトを呼び出すために使用される。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>&lt;a href="#" onclick="ShowHide('foo',this)"&gt;Toggle&lt;/a&gt;</code></pre></div><div class="textbody"><p>ShowHide スクリプトは新しいメニューを含む div を生成し、リンクを挿入する。最終行がスクリプトの核心となる。スクリプトのトリガーとなる要素の親を探し、新しい子として生成された div をそれに追加する。これにより、新しい div は DOM 内でリンクの次になる。利用者がタブを押したときには、フォーカスがメニュー内で最初のフォーカス可能な項目となる生成されたリンクに移動する。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
function ShowHide(id,src)
{
	var el = document.getElementById(id);
	if (!el)
	{
		el = document.createElement("div");
		el.id = id;
		var link = document.createElement("a");
		link.href = "javascript:void(0)";
		link.appendChild(document.createTextNode("Content"));
		el.appendChild(link);
		src.parentElement.appendChild(el);
	}
	else
	{
		el.style.display = ('none' == el.style.display ? 'block' : 'none');
	}
} </code></pre></div><div class="textbody"><p>CSS は div およびリンクをメニューのように見せるために利用される。</p></div></div><h3 id="SCR26-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR26-procedure">手順</h4><ol class="enumar"><li><p>ポップアップではないダイアログのトリガーとなる全てのエリアを探す。</p></li><li><p>そのダイアログがボタン又はリンクのクリックイベントによりトリガーされる。</p></li><li><p>スクリプトによって生成された DOM を調査できるツールを使って、ダイアログが DOM 内で次の位置にきている。</p></li></ol><h4 class="small-head" id="SCR26-results">期待される結果</h4><ul><li><p>2. 及び 3. の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR27" id="SCR27"> </a>SCR27: Document Object Model を用いて、ページ上にある複数のセクションを並び替える</h2><div class="applicability"><h3 id="SCR27-applicability">適用 (対象)</h3><div class="textbody"><p>HTML および XHTML、スクリプト</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#navigation-mechanisms-focus-order">
				達成基準 2.4.3 (フォーカス順序)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#navigation-mechanisms-focus-order">
						クイックリファレンス 2.4.3 (フォーカス順序)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/navigation-mechanisms-focus-order.html">
						達成基準 2.4.3 (フォーカス順序)を理解する
					</a></li></ul></li></ul><h3 id="SCR27-description">解説</h3><div class="textbody"><p>この達成方法の目的は、コンポーネントを再配置するための極めてユーザブルかつアクセシブルなメカニズムを提供することである。再配置するためのメカニズムのうち、もっとも一般的なものは、コンポーネントに番号をつけることができる設定ページに利用者を送ること、又は、コンポーネントをドラッグ＆ドロップして希望する位置へ移動できるようにすることのふたつである。ドラッグ＆ドロップの方が、ひとつずつ項目を適当な位置に並べることができ、結果を感覚的に得られるため、はるかにユーザブルな方法である。残念なことに、ドラッグ＆ドロップはマウスの利用に頼った方法である。この達成方法は、利用者がコンポーネントのメニューを使って、それらを機器に依存することなく適当な位置に再配置することを可能にする。ドラッグ＆ドロップによる再配置機能の代替として、もしくはそれと併用して利用することができる。</p><p>メニューはリンクリストで、コンテンツを再配置するスクリプトのトリガーとなる、機器に依存しない onclick イベントを使用している。コンテンツは単に視覚的にだけでなく、Document Object Model (DOM) でも再配置されているので、すべての機器向けに正しい順序となっている。</p></div><h3 class="small-head" id="SCR27-examples">事例</h3><h4 class="small-head" id="SCR27-ex1">事例 1</h4><div class="example"><div class="textbody"><p>この例は上下間の再配置を行う。このアプローチはまた、右と左のオプションを追加することで、2 次元での再配置にも利用できる。</p><p>この例のコンポーネントは順序無しリストのリスト項目である。順序無しリストは、こうしたコンポーネントのような類似項目のためのとてもよいセマンティックモデルである。メニューを使う方法も、他のタイプのグループ化に使用できる。</p><p>モジュールはリスト項目であり、それぞれのモジュールは、div 要素内のコンテンツに加えて、入れ子になったリストとして表されたメニューを含んでいる。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>&lt;ul id="swapper"&gt;
    &lt;li id="black"&gt;
        &lt;div class="module"&gt;
            &lt;div class="module_header"&gt;
                &lt;!-- menu link --&gt;
                &lt;a href="#" onclick="ToggleMenu(event);"&gt;menu&lt;/a&gt;
                &lt;!-- menu --&gt;
                &lt;ul class="menu"&gt;
                    &lt;li&gt;&lt;a href="#" onclick="OnMenuClick(event)" 
                        onkeypress="OnMenuKeypress(event);"&gt;up&lt;/a&gt;&lt;/li&gt;
                    &lt;li&gt;&lt;a href="#" onclick="OnMenuClick(event)" 
                        onkeypress="OnMenuKeypress(event);"&gt;down&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
            &lt;div class="module_body"&gt;
                Text in the black module
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/li&gt;
    ...
&lt;/ul&gt;</code></pre></div><div class="textbody"><p>ここまでは、簡単なツリーの例でメニューを出したり隠したりする方法をとりあげてきたので、モジュールを入れ替えるコードについても着目する。イベントを同期させてデフォルトのリンクアクションをキャンセルしてから、作業に移動する。最初に、これから作業する要素、メニュー、再配置されるモジュール、メニューリンクのための一連のローカル変数をセットする。それから、再配置の方向を確認した後に、入れ替えるノードの取得を試みる。ノードを見つけた場合、swapNode() を呼び出して二つのモジュールを入れ替え、 PositionElement() でモジュールと共に絶対配置されたメニューを移動し、すべてが完了したメニュー項目にフォーカスを設定する。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>function MoveNode(evt,dir)
{
    HarmonizeEvent(evt);
    evt.preventDefault();

    var src = evt.target;
    var menu = src.parentNode.parentNode;
    var module = menu.parentNode.parentNode.parentNode;
    var menuLink = module.getElementsByTagName("a")[0];
    var swap = null;
    
    switch(dir)
    {
        case 'up':
        {
            swap = module.previousSibling;
            while (swap &amp;amp;&amp;amp; swap.nodeType != 1)
            {
                swap = swap.previousSibling;
            }
            break;
        }
        case 'down':
        {
            swap = module.nextSibling;
            while (swap &amp;amp;&amp;amp; swap.nodeType != 1)
            {
                swap = swap.nextSibling;
            }
            break;
        }
    }
    if (swap &amp;amp;&amp;amp; swap.tagName == node.tagName)
    {
        module.swapNode(swap);
        PositionElement(menu,menuLink,false,true);
    }
    src.focus();
} </code></pre></div><div class="textbody"><p>ノード入れ替えの CSS は、モジュール及び小さなメニューのサイズや色の調整だけで、前のツリーの例と大きな違いはない。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
ul#swapper { margin:0px; padding:0px; list-item-style:none; }
ul#swapper li { padding:0; margin:1em; list-style:none; height:5em; width:15em; 
    border:1px solid black; }
ul#swapper li a { color:white; text-decoration:none; font-size:90%; }

ul#swapper li div.module_header { text-align:right; padding:0 0.2em; }
ul#swapper li div.module_body { padding:0.2em; }

ul#swapper ul.menu { padding:0; margin:0; list-style:none; background-color:#eeeeee; 
    height:auto; position:absolute; text-align:left; border:1px solid gray; display:none; }
ul#swapper ul.menu li { height:auto; border:none; margin:0; text-align:left; 
    font-weight:normal; width:5em; }
ul#swapper ul.menu li a { text-decoration:none; color:black; padding:0 0.1em; 
    display:block; width:100%; } </code></pre></div></div><h3 id="SCR27-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR27-procedure">手順</h4><ol class="enumar"><li><p>ドラッグ＆ドロップで再配置可能なウェブユニット内のすべてのコンポーネントを探す。</p></li><li><p>リンクのリストで構成されたメニューを用いて、それらが再配置可能なメカニズムがあることを確認する。</p></li><li><p>メニューが DOM 内の再配置可能な項目の中に含まれていることを確認する。</p></li><li><p>再配置のスクリプトはリンクの onclick イベントだけをトリガーにしていることを確認する。</p></li><li><p>視覚的にだけではなく、項目が DOM の中でも再配置されていることを確認する。</p></li></ol><h4 class="small-head" id="SCR27-results">期待される結果</h4><ul><li><p>2.～5. の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR28" id="SCR28"> </a>SCR28: コンテンツのブロックをバイパスするために、展開可能及び折り畳み可能なメニューを使用する</h2><div class="applicability"><h3 id="SCR28-applicability">適用 (対象)</h3><div class="textbody"><p>クライアントサイドスクリプティングを提供するウェブコンテンツ技術</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#navigation-mechanisms-skip">
				達成基準 2.4.1 (ブロックスキップ)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#navigation-mechanisms-skip">
						クイックリファレンス 2.4.1 (ブロックスキップ)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/navigation-mechanisms-skip.html">
						達成基準 2.4.1 (ブロックスキップ)を理解する
					</a></li></ul></li></ul><h3 id="SCR28-description">解説</h3><div class="textbody"><p>この達成方法は、繰り返される構成要素を利用者のコントロールの下でメニューを展開したり折りたたんだりできるメニューの中に置くことで、その構成要素をスキップできるようにする。利用者は、メニューを折りたたむことで繰り返される構成要素をスキップできる。利用者は、メニューの要素を隠したり削除したりするユーザインタフェースを呼び出すことができる。関連情報には、ナビゲーションをスキップするメカニズムを提供するために利用できるメニュー、ツールバー及びツリーの達成方法をいくつか挙げている。</p><div class="note"><p class="prefix"><em>注記: </em>類似の方法は、サーバーサイドスクリプティングを用いて修正後のウェブページを読み込むことでも実装できる。</p></div></div><h3 class="small-head" id="SCR28-examples">事例</h3><h4 class="small-head" id="SCR28-ex1">事例 1</h4><div class="example"><div class="textbody"><p>ウェブページの先頭にあるナビゲーションリンクは、すべて HTML、CSS 及び JavaScript を用いて実装されているメニュー項目である。ナビゲーションバーが展開しているとき、ナビゲーションのリンクは利用可能になっている。ナビゲーションバーがたたまれているとき、リンクは利用不可能である。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
...

  &lt;script type="text/javascript"&gt;
  function toggle(id){
    var n = document.getElementById(id);
    n.style.display =  (n.style.display != 'none' ? 'none' : '' );
  }
  &lt;/script&gt;

...

  &lt;a href="#" onclick="toggle('navbar')"&gt;Toggle Navigation Bar&lt;/a&gt;
  
  &lt;ul id="navbar"&gt;
  &lt;li&gt;&lt;a href="http://target1.html"&gt;Link 1&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="http://target2.html"&gt;Link 2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="http://target3.html"&gt;Link 3&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="http://target4.html"&gt;Link 4&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;

... </code></pre></div><div class="textbody"><p>このコードの実装サンプル: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR28/toggle-navbar.html">ナビゲーションバーをリンクで切り替える</a></p></div><div xmlns="" class="note"><p class="prefix"><em>訳注:</em> WAIC では 
SCR28-1
 に関する<a href="https://waic.jp/docs/as/">アクセシビリティ・サポーテッド（AS）情報</a>を提供している。</p><p>2014 年 6 月版の<a href="https://waic.jp/docs/as/info/201406/SCR28-1.html">アクセシビリティ・サポーテッド（AS）情報: SCR28-1</a>
    では、「要注意」と評価されている。WAIC はウェブ制作者にこの達成方法が一部の環境では動作しないことに注意を促すものである。
  </p></div></div><h4 class="small-head" id="SCR28-ex2">事例 2</h4><div class="example"><div class="textbody"><p>一連のウェブページのための目次はそれぞれのページの先頭近くで繰り返される。目次の先頭にあるボタンで、利用者はそれを消したり復元したりできる。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
...

   &lt;script type="text/javascript"&gt;
  function toggle(id){
    var n = document.getElementById(id);
    n.style.display =  (n.style.display != 'none' ? 'none' : '' );
  }
  &lt;/script&gt;

  ...

  &lt;button onclick="return toggle('toc');"&gt;Toggle Table of Contents&lt;/button&gt;
  &lt;div id="toc"&gt;
    ...
  &lt;/div&gt;

...</code></pre></div><div class="textbody"><p>このコードの実装サンプル: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR28/toggle-toc.html">目次をボタンで切り替える</a></p></div><div xmlns="" class="note"><p class="prefix"><em>訳注:</em> WAIC では 
SCR28-2
 に関する<a href="https://waic.jp/docs/as/">アクセシビリティ・サポーテッド（AS）情報</a>を提供している。</p><p>2014 年 6 月版の<a href="https://waic.jp/docs/as/info/201406/SCR28-2.html">アクセシビリティ・サポーテッド（AS）情報: SCR28-2</a>
    では、「要注意」と評価されている。WAIC はウェブ制作者にこの達成方法が一部の環境では動作しないことに注意を促すものである。
  </p></div></div><h3 id="SCR28-resources">参考リソース</h3><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>
                  <a href="http://www.bobbyvandersluis.com/articles/unobtrusive-show-hide/">Unobtrusive show/hide behavior reloaded</a>
               </p></li><li><p>
                  <a href="http://www.dustindiaz.com/seven-togglers/">Seven ways to toggle an element with JavaScript</a>
               </p></li></ul></div><h3 id="SCR28-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/H69">H69: コンテンツの各セクションの開始位置に見出し要素を提供する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/H70">H70: 繰り返されているコンテンツのブロックをグループ化するために、frame 要素を使用する</a></li></ul></div><h3 id="SCR28-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR28-procedure">手順</h4><ol class="enumar"><li><p>ユーザインタフェースコントロールで、繰り返されるコンテンツを展開したり折りたたんだりできることを確認する。</p></li><li><p>コンテンツが展開されたとき、それが読み上げ順序の論理的な場所でプログラムによる解釈が可能なコンテンツに含まれていることを確認する。</p></li><li><p>コンテンツが折りたたまれているとき、それがプログラムによる解釈が可能でない部分にあることを確認する。</p></li></ol><h4 class="small-head" id="SCR28-results">期待される結果</h4><ul><li><p>上記の全ての項目の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR29" id="SCR29"> </a>SCR29: 静的な HTML 要素にキーボードアクセシブルなアクションを追加する</h2><div class="applicability"><h3 id="SCR29-applicability">適用 (対象)</h3><div class="textbody"><p>HTML 及び XHTML、スクリプト</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#keyboard-operation-keyboard-operable">
				達成基準 2.1.1 (キーボード)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#keyboard-operation-keyboard-operable">
						クイックリファレンス 2.1.1 (キーボード)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/keyboard-operation-keyboard-operable.html">
						達成基準 2.1.1 (キーボード)を理解する
					</a></li></ul></li><li><a href="https://waic.jp/docs/WCAG20/Overview.html#keyboard-operation-all-funcs">
				達成基準 2.1.3 (キーボード (例外なし) )</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#keyboard-operation-all-funcs">
						クイックリファレンス 2.1.3 (キーボード (例外なし) )
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/keyboard-operation-all-funcs.html">
						達成基準 2.1.3 (キーボード (例外なし) )を理解する
					</a></li></ul></li></ul><div class="ua-issues"><h3 class="small-head" id="ua1.14.1">ユーザエージェント及び支援技術によるサポート</h3><p><a href="./ua-notes/client-side-script.html#SCR29">SCR29 に関するユーザエージェントサポートノート</a>を参照のこと。</p></div><h3 id="SCR29-description">解説</h3><div class="textbody"><p>この達成方法の目的は、 <code>div</code> や <code>span</code> などの静的な HTML 要素により実行されるユーザインターフェース コントロールにキーボードアクセスを提供する方法を示すことである。この達成方法は <code>tabindex</code> 属性を設定することで要素をフォーカス可能にし、<code>onclick</code> ハンドラに加えて <code>onkeyup</code> 又は <code>onkeypress</code> ハンドラを提供することでキーボードから動作を実行することができるようにするものである。</p><p><code>tabindex</code> 属性の値が 0 の際、要素はキーボードでフォーカス可能であり、文書のタブ順序に含まれる。<code>tabindex</code> 属性の値が -1 の際、要素はタブ移動できないが、<code>element.focus()</code> を使用することによりフォーカスをプログラムで制御できる。</p><p>静的な HTML 要素にはそれらに関連した動作がないため、スクリプトが利用できない環境に対する、代替としての実装又は説明を提供することはできない。この達成方法はクライアントサイド スクリプティングが利用できる環境でのみ使用されるべきである。</p><div class="note"><p class="prefix"><em>注記: </em>そのようなユーザインターフェース コントロールは SC 4.1.2 を達成しなければならない。ユーザインターフェース コントロールの役割、名前及び状態についての情報がないままこの達成基準を適用する場合、失敗例 F59 に該当し、スクリプトを用いて、HTML の div 要素又は span 要素をユーザインタフェースのコントロールにしたことによる達成基準 4.1.2 の失敗例となる。</p></div></div><h3 class="small-head" id="SCR29-examples">事例</h3><h4 class="small-head" id="SCR29-ex1">事例 1: div 要素に JavaScript によるアクションを追加する</h4><div class="example"><div class="textbody"><p>ページにある <code>div</code> 要素には一意の <code>id</code> 属性及び値が 0 の <code>tabindex</code> 属性が付与されている。スクリプトはドキュメントオブジェクトモデル (DOM) を利用し、id によって <code>div</code> 要素を見つけ <code>onclick</code> ハンドラ及び <code>onkeyup</code> ハンドラを追加する。<code>onkeyup</code> ハンドラは Enter キーが押下された際、アクションを実行する。<code>div</code> 要素を見つけて変更するには、<code>div</code> 要素が DOM の中に読み込まれた状態でなければならないことに注意する。これは、通常、<code>body</code> 要素の <code>onload</code> イベントでスクリプトを呼び出すことで達成される。イベントハンドラを追加するスクリプトはユーザエージェントが JavaScript をサポートし、かつ有効にしている場合にのみ実行される。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
...
&lt;script type="text/javascript"&gt;
 // これはアクションを実行する関数である。このシンプルな例はメッセージを開閉する。
 function doSomething(event) {
   var msg=document.getElementById("message");
   msg.style.display = msg.style.display=="none" ? "" : "none";
   // リンクのhref属性が実行されないよう、関数からfalseを返す
   return false;
 }
 // これは Enter キーが押された際にアクションが実行される関数である。
 function doSomethingOnEnter(event) {
   var key = 0;
   // window.event 又はイベントオブジェクトが使用されているかに応じて押されたキーを判定する。
   if (window.event) {
     key = window.event.keyCode;
   } else if (event) {
     key = event.keyCode;
   }
   // Enter キーが押されたか？
   if (key == 13) {
     return doSomething(event);
   } 
   // イベントが処理されなかったため、trueを返す
   return true;
 }
 // このsetUpActions()関数は存在するdiv要素にonclick及びonkeyupイベントハンドラを設定するために呼び出されなければならない。
 // この関数はid="active"の付与されたdiv要素がDOMに読み込まれた後に呼び出されなければならない。
 // この例では、setUpActions()関数はbody要素のonloadイベントから呼び出されている。
 function setUpActions() {
   // divオブジェクトを取得する
   var active=document.getElementById("active");
   // onclickハンドラをオブジェクトに割り当てる
   // 関数が返された後、href属性を止めるため、onclickハンドラからfalseを返すことが重要である
   active.onclick=doSomething;
   // onkeyupハンドラをオブジェクトに割り当てる
   active.onkeyup=doSomethingOnEnter;
 }
 &lt;/script&gt;

 &lt;body onload="setUpActions();"&gt;
 &lt;p&gt;Here is the link to modify with a javascript action:&lt;/p&gt;
 &lt;div&gt;
  &lt;span id="active" tabindex="0"&gt;Do Something&lt;/span&gt;
 &lt;/div&gt;
 &lt;div id="message"&gt;Hello, world!&lt;/div&gt;
...
</code></pre></div><div class="textbody"><p>このコードの実装例: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR29/action-on-div.html">
                    JavaScriptによる制御を用いてdiv要素を作成する</a>。</p></div></div><h3 id="SCR29-resources">参考リソース</h3><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>HTML 4.01 <a href="http://www.w3.org/TR/REC-html40/interact/scripts.html">Scripts</a>
               </p></li><li><p>HTML 4.01 <a href="http://www.w3.org/TR/REC-html40/interact/forms.html#h-17.11">Giving focus to an element</a>
               </p></li><li><p>Accessible Rich Internet Applications (WAI-ARIA) Version 1.0 <a href="http://www.w3.org/TR/wai-aria/states_and_properties#global_states">Global States and Properties</a>
               </p></li><li><p>WAI-ARIA Primer, <a href="http://www.w3.org/TR/wai-aria-primer/#focus">Provision of the keyboard or input focus</a>
               </p></li><li><p><a href="http://www.w3.org/DOM/DOMTR">Document Object Model (DOM) Technical Reports</a>
               </p></li><li><p><a href="https://msdn.microsoft.com/en-us/library/ms534654(VS.85).aspx">Internet Explorer, HTML and DHTML Reference, tabIndex Property</a>
               </p></li></ul><div class="note"><p class="prefix"><em>訳注 1:
					</em>HTML 4.01 は Superseded Recommendation としてマークされ、廃止された仕様である。上記はそれぞれ、<a href="https://www.w3.org/TR/html52/semantics-scripting.html#semantics-scripting">HTML 5.2§4.12. Scripting</a>、<a href="https://www.w3.org/TR/html52/editing.html#the-tabindex-attribute">HTML 5.2§5.4.3. The tabindex attribute</a> を代わりに参照できる。</p><p class="prefix"><em>訳注 2:
					</em>「WAI-ARIA Primer, Provision of the keyboard or input focus」が挙げられているが、<a href="https://www.w3.org/TR/wai-aria-primer/">WAI-ARIA 1.0 Primer</a> は作成が破棄されている。代わりに、<a href="https://www.w3.org/TR/2018/NOTE-wai-aria-practices-1.1-20180726/#keyboard">WAI-ARIA Authoring Practices 1.1 §5. Developing a Keyboard Interface</a> を参照できる。</p><p class="prefix"><em>訳注 3:
					</em>DOM 仕様は現在、WHATWG で策定されている。<a href="https://dom.spec.whatwg.org/">DOM Standard</a> も参照のこと。</p><p class="prefix"><em>訳注 4:
					</em>MSDN のページ「Internet Explorer, HTML and DHTML Reference, tabIndex Property」が MDN にリダイレクトされているが、これは MSDN の文書が MDN に統合されたためである。このリダイレクト処理の詳細については、<a href="https://blogs.windows.com/msedgedev/2017/10/18/documenting-web-together-mdn-web-docs/">Microsoft Edge Dev Blog</a> 及び<a href="https://news.mynavi.jp/article/20171019-a070/">マイナビニュース</a>を参照されたい。</p></div></div><h3 id="SCR29-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/SCR20">SCR20: キーボードとその他のデバイス固有の機能を両方とも使用する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/SCR24">SCR24: 利用者の要求に応じて新しいウィンドウを開くために、プログレッシブエンハンスメントを使用する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/SCR35">SCR35: アンカー及びボタンの onclick イベントを用いて、アクションをキーボード操作可能にする</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/F59">F59: 達成基準 4.1.2 の失敗例 － コントロールに役割 (role) を提供せずに、HTML の div 要素又は span 要素をユーザインタフェースコントロールにするために、スクリプトを用いている</a></li></ul></div><h3 id="SCR29-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR29-procedure">手順</h4><p>スクリプトをサポートするユーザエージェントで:</p><ol class="enumar"><li><p>マウスを用い、コントロールをクリックする。</p></li><li><p>スクリプトのアクションが適切に実行されることを確認する。</p></li><li><p>キーボードでコントロールに移動して、フォーカスを与えることが可能であることを確認する。</p></li><li><p>キーボードのフォーカスをコントロールに設定する。</p></li><li><p>Enter キーを押すことで、スクリプトのアクションを呼び出すことを確認する。</p></li></ol><h4 class="small-head" id="SCR29-results">期待される結果</h4><ul><li><p>手順全ての結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR30" id="SCR30"> </a>SCR30: リンクテキストを変更するために、スクリプトを使用する</h2><div class="applicability"><h3 id="SCR30-applicability">適用 (対象)</h3><div class="textbody"><p>HTML 及び XHTML で使用されるクライアントサイドスクリプト</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#navigation-mechanisms-refs">
				達成基準 2.4.4 (リンクの目的 (コンテキスト内) )</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#navigation-mechanisms-refs">
						クイックリファレンス 2.4.4 (リンクの目的 (コンテキスト内) )
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/navigation-mechanisms-refs.html">
						達成基準 2.4.4 (リンクの目的 (コンテキスト内) )を理解する
					</a></li></ul></li><li><a href="https://waic.jp/docs/WCAG20/Overview.html#navigation-mechanisms-link">
				達成基準 2.4.9 (リンクの目的 (リンクのみ) )</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#navigation-mechanisms-link">
						クイックリファレンス 2.4.9 (リンクの目的 (リンクのみ) )
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/navigation-mechanisms-link.html">
						達成基準 2.4.9 (リンクの目的 (リンクのみ) )を理解する
					</a></li></ul></li></ul><h3 id="SCR30-description">解説</h3><div class="textbody"><p>この達成方法の目的は、リンクが文脈以外でも理解可能になるように、追加情報をリンクテキストに加えることを利用者が選択できるようにすることである。</p><p>一部の利用者は、リンクの文脈を参照する必要がないように、リンクがすべてを含んでいることを好む。別の利用者は、それぞれのリンクに文脈に関する情報が含まれていると、反復されてサイトの使い勝手が低下すると感じている。支援技術の利用者の間では、どちらが好ましいかに関して、ワーキンググループへのフィードバックは分かれている。この達成方法は、利用者自身にとって良い方法を選ぶことを可能にする。</p><p>どのようなリンクの目的を理解する場合でも追加の文脈が必要とならないようにするため、そのページのリンクのリンクテキストを展開するページの先頭近くにリンクが提供される。展開されるリンクの目的がそのリンクテキストから、常に直接理解可能でなければならない。</p><p>この達成方法では、現在表示されているページのリンクだけを展開する。利用者がそのサイトに対して 1 度だけ設定を行えば良いようにするために、設定情報を Cookie 又はサーバーサイドのユーザプロファイルに保存することも可能であり、場合によってはそれが望ましい。</p></div><h3 class="small-head" id="SCR30-examples">事例</h3><h4 class="small-head" id="SCR30-ex1">事例 1</h4><div class="example"><div class="textbody"><p>この例では、JavaScript を用いて直接リンクのテキストに文脈上の情報を追加する。link クラスはどのテキストを追加するかを決定する。「リンクを展開する」リンクが選択されたとき、ページ内のそれぞれのリンクにテキストを追加すべきかがテストされる。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
...
&lt;script type="text/javascript"&gt;
var expanded = false;
var linkContext = {
	"hist":" version of The History of the Web",
	"cook":" version of Cooking for Nerds"
};

function doExpand() {
	var links = document.links;
	
	for (link of links) {
		var cn = link.className;
		if (linkContext[cn]) {
			span = link.appendChild(document.createElement("span"));
			span.setAttribute("class", "linkexpansion");
			span.appendChild(document.createTextNode(linkContext[cn]));
		}
	}
	objUpdate = document.getElementById('expand');
	if (objUpdate)
	{
		objUpdate.childNodes[0].nodeValue = "Collapse links";
	}
	expanded = true;
}

function doCollapse() {
	objUpdate = document.getElementById('expand');
	var spans = document.getElementsByTagName("span");
	var span;

	// リンク一式を戻り、文頭から削除することで配列の添え数を変更する
	// そして処理を乱す
	for (i = spans.length - 1; i &gt;= 0; i--) {
		span = spans[i];
		if (span.getAttribute("class") == "linkexpansion")
			span.parentNode.removeChild(span);
	}
	if (objUpdate)
	{
		objUpdate.childNodes[0].nodeValue = "Expand links";
	}
	expanded = false;
}

function toggle() {
	if (expanded) doCollapse();
	else doExpand();
}
&lt;/script&gt;

...

&lt;h1&gt;Books for download&lt;/h1&gt;
&lt;p&gt;&lt;button id="expand" onclick="toggle();"&gt;Expand Links&lt;/button&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The History of the Web: &lt;a href="history.docx" class="hist"&gt;Word&lt;/a&gt;, &lt;a href="history.pdf" class="hist"&gt;PDF&lt;/a&gt;, &lt;a href="history.html" class="hist"&gt;HTML&lt;/a&gt; &lt;/li&gt;

	&lt;li&gt;Cooking for Nerds: &lt;a href="history.docx" class="cook"&gt;Word&lt;/a&gt;, &lt;a href="history.pdf" class="cook"&gt;PDF&lt;/a&gt;, &lt;a href="history.html" class="cook"&gt;HTML&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
...
</code></pre></div><div class="textbody"><p>このコードの実装サンプル: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR30/expand-links">要求に応じてリンクを展開する</a>。</p></div></div><h3 id="SCR30-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/G91">G91: リンクの目的を説明したリンクテキストを提供する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/H30">H30: a 要素のリンクの目的を説明するリンクテキストを提供する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/H33">H33: title 属性を用いて、リンクテキストを補足する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/C7">C7: リンクテキストの一部を非表示にするために、CSS を使用する</a></li></ul></div><h3 id="SCR30-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR30-procedure">手順</h4><ol class="enumar"><li><p>ページの先頭近くに、リンクを展開するリンクがあることを確認する</p></li><li><p>手順 1. で特定したリンクがリンクテキストだけで特定できることを確認する</p></li><li><p>リンクテキストだけで特定できないリンクをページ中から探す</p></li><li><p>手順 1. で特定したコントロールを有効にする</p></li><li><p>手順 3. で特定したリンクの目的が、リンクテキストだけで特定できることを確認する</p></li></ol><h4 class="small-head" id="SCR30-results">期待される結果</h4><ul><li><p>1.、2. 及び 5. の結果が真である</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR31" id="SCR31"> </a>SCR31: フォーカスのある要素の背景色又はボーダーを変更するために、スクリプトを使用する</h2><div class="applicability"><h3 id="SCR31-applicability">適用 (対象)</h3><div class="textbody"><p>HTML 及び XHTML、CSS、Script</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#navigation-mechanisms-focus-visible">
				達成基準 2.4.7 (フォーカスの可視化)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#navigation-mechanisms-focus-visible">
						クイックリファレンス 2.4.7 (フォーカスの可視化)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/navigation-mechanisms-focus-visible.html">
						達成基準 2.4.7 (フォーカスの可視化)を理解する
					</a></li></ul></li></ul><div class="ua-issues"><h3 class="small-head" id="ua1.16.1">ユーザエージェント及び支援技術によるサポート</h3><p><a href="./ua-notes/client-side-script.html#SCR31">SCR31 に関するユーザエージェントサポートノート</a>を参照のこと。</p></div><h3 id="SCR31-description">解説</h3><div class="textbody"><p>この達成方法の目的は、コンテンツ制作者が CSS を適用してフォーカス表示を通常よりもより見やすくするために JavaScript を使えるようにすることである。要素がフォーカスを受ける時、背景色またはボーダーは視覚的に異なるように変化する。要素からフォーカスがはずれたとき元のスタイルにもどる。この達成方法は :focus 疑似クラスをサポートしているいないに関わらず、スクリプトや CSS をサポートしているどんな HTML のユーザエージェントでも用いることができる。</p></div><h3 class="small-head" id="SCR31-examples">事例</h3><h4 class="small-head" id="SCR31-ex1">事例 1</h4><div class="example"><div class="textbody"><p>この事例において、リンクにフォーカスが当たった時、背景は黄色に変わる。フォーカスがはずれたとき、黄色ではなくなる。もしリンクに背景色がある場合は、スクリプト内で””よりむしろその色を用いることに注意する。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>...
&lt;script&gt;
 function toggleFocus(el)
 {
  el.style.backgroundColor =  el.style.backgroundColor=="yellow" ? "inherit" : "yellow";
 }
&lt;/script&gt;

...

&lt;a href="example.html" onfocus="toggleFocus(this)" onblur="toggleFocus(this)"&gt;focus me&lt;/a&gt;
...</code></pre></div></div><h3 id="SCR31-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/C15">C15: ユーザインタフェースコンポーネントがフォーカスを受けとったときの提示を変更するために、CSS を使用する</a></li></ul></div><h3 id="SCR31-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR31-procedure">手順</h4><ol class="enumar"><li><p>ページ内の各要素にタブ移動する。</p></li><li><p>フォーカス表示が可視であることを確認する。</p></li></ol><h4 class="small-head" id="SCR31-results">期待される結果</h4><ul><li><p>2.の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR32" id="SCR32"> </a>SCR32: クライアントサイドのバリデーションを提供し、DOM を介してエラーテキストを追加する</h2><div class="applicability"><h3 id="SCR32-applicability">適用 (対象)</h3><div class="textbody"><p>HTML 又は XHTML で使用されるスクリプト。</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#minimize-error-identified">
				達成基準 3.3.1 (エラーの特定)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#minimize-error-identified">
						クイックリファレンス 3.3.1 (エラーの特定)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/minimize-error-identified.html">
						達成基準 3.3.1 (エラーの特定)を理解する
					</a></li></ul></li><li><a href="https://waic.jp/docs/WCAG20/Overview.html#minimize-error-suggestions">
				達成基準 3.3.3 (エラー修正の提案)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#minimize-error-suggestions">
						クイックリファレンス 3.3.3 (エラー修正の提案)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/minimize-error-suggestions.html">
						達成基準 3.3.3 (エラー修正の提案)を理解する
					</a></li></ul></li></ul><h3 id="SCR32-description">解説</h3><div class="textbody"><p>この達成方法の目的は、クライアントサイドでフォームフィールドの検証に失敗したときにエラーメッセージを表示する方法について説明することである。アンカー要素はリスト中でエラーメッセージを表示させる際に使用され、検証が必要なフィールドの上に挿入される。フォーカスをエラーメッセージの場所に移し、利用者の注意を引くために、アンカー要素がエラーメッセージに使用される。アンカー要素の <code>href</code> は、エラーがみつかったフィールドへのページ内リンクを含む。</p><p>配置されたアプリケーションにおいて、もし JavaScript が無効になっていれば、クライアントサイドの検証は行われない。そのため、この達成方法はスクリプトが適合性において信頼できる、又はサーバーサイドの検証技術があらゆるエラーを発見し、エラーを含むフィールドの情報とともにページを返すように用いられている場合のみ、十分であるといえる。</p><div xmlns="" class="note"><p class="prefix"><em>訳注:</em> WAIC では 
SCR32
 に関する<a href="https://waic.jp/docs/as/">アクセシビリティ・サポーテッド（AS）情報</a>を提供している。</p><p>2014 年 6 月版の<a href="https://waic.jp/docs/as/info/201406/SCR32.html">アクセシビリティ・サポーテッド（AS）情報: SCR32</a>
    では、「達成可能」と評価されている。WAIC はこの達成方法が検証した環境で広く動作すると判断している。
  </p></div></div><h3 class="small-head" id="SCR32-examples">事例</h3><h4 class="small-head" id="SCR32-ex1">事例 1</h4><div class="example"><div class="textbody"><p>この事例は必須のフィールドを検証し、さらに特定の書式が必要なフィールドを検証する。エラーがみつかったとき、スクリプトはエラーメッセージの一覧を DOM に挿入し、フォーカスをそこへ移動する。</p><img src="http://www.w3.org/TR/2008/NOTE-WCAG20-TECHS-20081211/working-examples/SCR32/form2.jpg" class="eximg" alt="サンプルの画面イメージ: スクリーンショットは、正しく記入が行われていないいくつかのフィールドのエラーメッセージをあらわしている。エラーメッセージはリンクリストでフォームの先頭近くに現れる。"/><p> <em>HTML 及び Javascript のコード</em> </p><p>これは事例のフォームの HTML である:</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Form Validation&lt;/title&gt;
        &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"/&gt;
        &lt;link href="css/validate.css" rel="stylesheet" type="text/css"/&gt;
        &lt;script type="text/javascript" src="scripts/validate.js"/&gt;
    &lt;/head&gt;
    &lt;body&gt;

        &lt;h1&gt;Form Validation&lt;/h1&gt;

        &lt;p&gt;The following form is validated before being submitted if scripting is available,
            otherwise the form is validated on the server. All fields are required, except those
            marked optional. If errors are found in the submission, the form is cancelled and 
            a list of errors is displayed at the top of the form.&lt;/p&gt;

        &lt;p&gt; Please enter your details below. &lt;/p&gt;

        &lt;h2&gt;Validating Form&lt;/h2&gt;

        &lt;form id="personalform" method="post" action="index.php"&gt;
            &lt;div class="validationerrors"/&gt;
            &lt;fieldset&gt;
                &lt;legend&gt;Personal Details&lt;/legend&gt;
                &lt;p&gt;
                    &lt;label for="forename"&gt;Please enter your forename&lt;/label&gt;
                    &lt;input type="text" size="20" name="forename" id="forename" class="string"
                        value=""/&gt;
                &lt;/p&gt;
                &lt;p&gt;
                    &lt;label for="age"&gt;Please enter your age&lt;/label&gt;
                    &lt;input type="text" size="20" name="age" id="age" class="number" value=""/&gt;
                &lt;/p&gt;
                &lt;p&gt;
                    &lt;label for="email"&gt;Please enter your email address&lt;/label&gt;
                    &lt;input type="text" size="20" name="email" id="email" class="email" value=""/&gt;
                &lt;/p&gt;
            &lt;/fieldset&gt;
            &lt;p&gt;
                &lt;input type="submit" name="signup" value="Sign up"/&gt;
            &lt;/p&gt;
        &lt;/form&gt;
        &lt;h2&gt;Second Form&lt;/h2&gt;
        &lt;form id="secondform" method="post" action="index.php#focuspoint"&gt;
            &lt;div class="validationerrors"/&gt;
            &lt;fieldset&gt;
                &lt;legend&gt;Second Form Details&lt;/legend&gt;
                &lt;p&gt;
                    &lt;label for="suggestion"&gt;Enter a suggestion&lt;/label&gt;
                    &lt;input type="text" size="20" name="suggestion" id="suggestion" 
                      class="string" value=""/&gt;
                &lt;/p&gt;
                &lt;p&gt;
                    &lt;label for="optemail"&gt;Please enter your email address (optional)&lt;/label&gt;
                    &lt;input type="text" size="20" name="optemail" id="optemail"
                        class="optional email" value=""/&gt;
                &lt;/p&gt;
                &lt;p&gt;
                    &lt;label for="rating"&gt;Please rate this suggestion&lt;/label&gt;
                    &lt;input type="text" size="20" name="rating" id="rating" 
                      class="number" value=""/&gt;
                &lt;/p&gt;
                &lt;p&gt;
                    &lt;label for="jibberish"&gt;Enter some jibberish (optional)&lt;/label&gt;
                    &lt;input type="text" size="20" name="jibberish" id="jibberish" value=""/&gt;
                &lt;/p&gt;

            &lt;/fieldset&gt;
            &lt;p&gt;
                &lt;input type="submit" name="submit" value="Add Suggestion"/&gt;
            &lt;/p&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;                      </code></pre></div><div class="textbody"><p>以下は検証を行ってエラーメッセージを挿入する JavaScript である:</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
window.onload = initialise;

function initialise()
{
   var objForms = document.getElementsByTagName('form');
   var iCounter;

   // フォームそれぞれにイベントハンドラを追加
   for (iCounter=0; iCounter&lt;objForms.length; iCounter++)
   {
      objForms[iCounter].onsubmit = function(){return validateForm(this);};
   }
}


// フォームのイベントハンドラ
function validateForm(objForm)
{
   var arClass = [];
   var iErrors = 0;
   var objField = objForm.getElementsByTagName('input');
   var objLabel = objForm.getElementsByTagName('label');
   var objList = document.createElement('ol');
   var objError, objExisting, objNew, objTitle, objParagraph, objAnchor, objPosition;
   var strLinkID, iFieldCounter, iClassCounter, iCounter;

   // 部分識別子を固有にするため、
   // フォームのid又はnameを取得する
   if (objForm.id)
   {
      strLinkID = objForm.id + 'ErrorID';
   }
   else
   {
      strLinkID = objForm.name + 'ErrorID';
   }

   // validationクラスを探索するため、inputフォームコントロールをループする
   for (iFieldCounter=0; iFieldCounter&lt;objField.length; iFieldCounter++)
   {
      // フィールドのクラスを取得し、適切なクラスを探す
      arClass = objField[iFieldCounter].className.split(' ');
      for (iClassCounter=0; iClassCounter&lt;arClass.length; iClassCounter++)
      {
         switch (arClass[iClassCounter])
         {
            case 'string':
               if (!isString(objField[iFieldCounter].value, arClass))
               {
                  if (iErrors === 0)
                  {
                     logError(objField[iFieldCounter], objLabel, objList, strLinkID);
                  }
                  else
                  {
                     logError(objField[iFieldCounter], objLabel, objList, '');
                  }
                  iErrors++;
               }
               break;
            case 'number':
               if (!isNumber(objField[iFieldCounter].value, arClass))
               {
                  if (iErrors === 0)
                  {
                     logError(objField[iFieldCounter], objLabel, objList, strLinkID);
                  }
                  else
                  {
                     logError(objField[iFieldCounter], objLabel, objList, '');
                  }
                  iErrors++;
               }
               break;

            case 'email' :
               if (!isEmail(objField[iFieldCounter].value, arClass))
               {
                  if (iErrors === 0)
                  {
                     logError(objField[iFieldCounter], objLabel, objList, strLinkID);
                  }
                  else
                  {
                     logError(objField[iFieldCounter], objLabel, objList, '');
                  }
                  iErrors++;
               }
               break;
         }
      }
   }

   if (iErrors &gt; 0)
   {
      // validではない場合、エラーメッセージを表示する
      objError = objForm.getElementsByTagName('div');
      
      // 存在しているエラーを探す
      for (iCounter=0; iCounter&lt;objError.length; iCounter++)
      {
         if (objError[iCounter].className == 'validationerrors')
         {
            objExisting = objError[iCounter];
         }
      }

      objNew = document.createElement('div');
      objTitle = document.createElement('h2');
      objParagraph = document.createElement('p');
      objAnchor = document.createElement('a');

      if (iErrors == 1)
      {
         objAnchor.appendChild(document.createTextNode('1 Error in Submission'));
      }
      else
      {
         objAnchor.appendChild(document.createTextNode(iErrors + ' Errors in Submission'));
      }
      objAnchor.href = '#' + strLinkID;
      objAnchor.className = 'submissionerror';

      objTitle.appendChild(objAnchor);
      objParagraph.appendChild(document.createTextNode('Please review the following'));

      objNew.className = 'validationerrors';

      objNew.appendChild(objTitle);
      objNew.appendChild(objParagraph);
      objNew.appendChild(objList);
      
      // 既にエラーがある場合、新しいエラーと交換する。
      // それ以外の場合、フォームの先頭に新しいエラーを追加する。
      if (objExisting)
      {
         objExisting.parentNode.replaceChild(objNew, objExisting);
      }
      else
      {
         objPosition = objForm.firstChild;
         objForm.insertBefore(objNew, objPosition);
      }

      // 待ち時間の設定
      setTimeout(function() { objAnchor.focus(); }, 50);
      
      // フォームを送信しない
      objForm.submitAllowed = false;
      return false;
   }

   // フォームを送信
   return true;
}

// 問題のあるフィールドコントロールを指すリスト項目にリンクを追加する関数
function addError(objList, strError, strID, strErrorID)
{
   var objListItem = document.createElement('li');
   var objAnchor = document.createElement('a');
   
   // フォームコントロールへの部分識別子
   objAnchor.href='#' + strID;

   // エラーの見出しに向けたターゲットにする
   if (strErrorID.length &gt; 0)
   {
      objAnchor.id = strErrorID;
   }

   // エラーメッセージ用のラベルプロンプトを使う
   objAnchor.appendChild(document.createTextNode(strError));
   // フォームコントロールにフォーカスを当てるために、キーボード及びマウスイベントを追加する
   objAnchor.onclick = function(event){return focusFormField(this, event);};
   objAnchor.onkeypress = function(event){return focusFormField(this, event);};
   objListItem.appendChild(objAnchor);
   objList.appendChild(objListItem);
}

function focusFormField(objAnchor, objEvent)
{
   var strFormField, objForm;

   // キーボードでもリンクが機能するようにする
   if (objEvent &amp;amp;&amp;amp; objEvent.type == 'keypress')
   {
      if (objEvent.keyCode != 13 &amp;amp;&amp;amp; objEvent.keyCode != 32)
      {
         return true;
      }
   }

   // フォームコントロールにフォーカスを当てる
   strFormField = objAnchor.href.match(/[^#]\w*$/);
   objForm = getForm(strFormField);
   objForm[strFormField].focus();
   return false;
}

// 与えられたフォームフィールドの名前から、フォーム要素を返す関数
function getForm(strField)
{
   var objElement = document.getElementById(strField);

   // 適切なフォームを探す
   do
   {
      objElement = objElement.parentNode;
   } while (!objElement.tagName.match(/form/i) &amp;amp;&amp;amp; objElement.parentNode);

   return objElement;
}

// リスト中のエラーを記録する関数
function logError(objField, objLabel, objList, strErrorID)
{
   var iCounter, strError;

   // エラープロンプトのラベルを探す
   for (iCounter=0; iCounter&lt;objLabel.length; iCounter++)
   {
      if (objLabel[iCounter].htmlFor == objField.id)
      {
         strError = objLabel[iCounter].firstChild.nodeValue;
      }
   }

   addError(objList, strError, objField.id, strErrorID);
}

// 検証ルーティン - 要求事項として

function isString(strValue, arClass)
{
   var bValid = (typeof strValue == 'string' &amp;amp;&amp;amp; strValue.replace(/^\s*|\s*$/g, '') 
     !== '' &amp;amp;&amp;amp; isNaN(strValue));

   return checkOptional(bValid, strValue, arClass);
}

function isEmail(strValue, arClass)
{
   var objRE = /^[\w-\.\']{1,}\@([\da-zA-Z\-]{1,}\.){1,}[\da-zA-Z\-]{2,}$/;
   var bValid = objRE.test(strValue);

   return checkOptional(bValid, strValue, arClass);
}

function isNumber(strValue, arClass)
{
   var bValid = (!isNaN(strValue) &amp;amp;&amp;amp; strValue.replace(/^\s*|\s*$/g, '') !== '');

   return checkOptional(bValid, strValue, arClass);
}

function checkOptional(bValid, strValue, arClass)
{
   var bOptional = false;
   var iCounter;

   // optionalについて確認
   for (iCounter=0; iCounter&lt;arClass.length; iCounter++)
   {
      if (arClass[iCounter] == 'optional')
      {
         bOptional = true;
      }
   }

   if (bOptional &amp;amp;&amp;amp; strValue.replace(/^\s*|\s*$/g, '') === '')
   {
      return true;
   }

   return bValid;
   }</code></pre></div><div class="textbody"><p>このコードの実装サンプルは、PHP、JavaScript、CSS 及び XHTML で実装されている: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR32/index.php">フォーム検証の例</a></p></div></div><h3 id="SCR32-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/G83">G83: 入力が完了していない必須項目を特定するために、テキストの説明を提供する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/G85">G85: 利用者の入力が要求されたフォーマット又は値の範囲外の場合に、テキストの説明を提供する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/SCR18">SCR18: クライアントサイドのバリデーション及びアラートを提供する</a></li></ul></div><h3 id="SCR32-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR32-procedure">手順</h4><p>アンカータグを用いてエラーメッセージを作成し、上記の達成方法による適切なスクリプトを使用する。</p><ol class="enumar"><li><p>ページを読み込む。</p></li><li><p>エラーメッセージに関連付けられたフィールドに有効な値を入力し、エラーメッセージが表示されないことを確認する。</p></li><li><p>エラーメッセージに関連付けられたフィールドに無効な値を入力し、そのフィールドに正確なエラーメッセージが表示されることを確認する。</p></li><li><p>エラーメッセージがフォーカスを受け取ることを確認する。</p></li><li><p>表示されたエラーメッセージと関連付けられたフィールドに有効な値を入力し、エラーメッセージが除去されることを確認する。</p></li><li><p>アンカータグによって作例されたエラーメッセージと関連付けられた全てのフィールドに対して、繰り返す。</p></li></ol><div class="note"><p class="prefix"><em>注記: </em>上記の手順を、支援技術を用いて実行することも推奨する。</p></div><h4 class="small-head" id="SCR32-results">期待される結果</h4><ul><li><p>2.、3.、4. 及び 5. の全ての結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR33" id="SCR33"> </a>SCR33: コンテンツをスクロールし、かつそれを一時停止するメカニズムを提供するためにスクリプトを使用する</h2><div class="applicability"><h3 id="SCR33-applicability">適用 (対象)</h3><div class="textbody"><p>スクリプトでコントロールされる、コンテンツのスクロールをサポートするウェブコンテンツ技術</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#time-limits-required-behaviors">
				達成基準 2.2.1 (タイミング調整可能)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#time-limits-required-behaviors">
						クイックリファレンス 2.2.1 (タイミング調整可能)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/time-limits-required-behaviors.html">
						達成基準 2.2.1 (タイミング調整可能)を理解する
					</a></li></ul></li><li><a href="https://waic.jp/docs/WCAG20/Overview.html#time-limits-pause">
				達成基準 2.2.2 (一時停止、停止、非表示)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#time-limits-pause">
						クイックリファレンス 2.2.2 (一時停止、停止、非表示)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/time-limits-pause.html">
						達成基準 2.2.2 (一時停止、停止、非表示)を理解する
					</a></li></ul></li></ul><h3 id="SCR33-description">解説</h3><div class="textbody"><p>この達成方法の目的は、スクロールするコンテンツがスクリプトで作成されている場合に、利用者にそのスクロールを停止する手段を提供することである。スクロールするコンテンツは、ロービジョンや認知障害の利用者にとって読みにくかったり、全く読めなかったりする。また、動くものは、一部の人々にとって、ウェブページのほかの部分に集中することへの妨げとなる。</p></div><h3 class="small-head" id="SCR33-examples">事例</h3><h4 class="small-head" id="SCR33-ex1">事例 1</h4><div class="example"><div class="textbody"><p>この例では、CSS 及び JavaScript を用いて、いくつかのテキストを視覚的にスクロールさせている。スクロールの移動を停止するためのリンクが含まれている。</p><p>この方法では、JavaScript 又は CSS がサポートされていないか有効になっていないときは、すべてのテキストを表示し、リンクを省略する。</p><p>下のコードは、webSemantic によるアクセシブルなスクローラー (2008 年 7 月) の修正版である。</p><p>XHTML 部分:</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>...
&lt;div id="scroller"&gt;
&lt;p id="tag"&gt;This text will scroll and a Pause/Scroll link will be present 
when Javascript and CSS are supported and active.&lt;/p&gt;
&lt;/div&gt;
...</code></pre></div><div class="textbody"><p>CSS部分:</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>...
body {font:1em verdana,sans-serif; color:#000; margin:0}

/* position:relative及びoverflow:hiddenは必須 */
#scroller { position:relative; overflow:hidden; width:15em; border:1px solid #008080; }

/* スクロールするテキスト用のフォーマットを追加 */
#tag { margin:2px 0; }

/* #testPは#tagのテキスト変更に関するプロパティを全て含む */
#testP { visibility:hidden; position:absolute; white-space:nowrap; } 

/* ページ先頭の目印として利用され、かつ幅を制限する */
#top { width:350px; margin:auto; }
...</code></pre></div><div class="textbody"><p>JavaScript 部分:</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
var speed=50        // スクロール速度
var step=3          // 動きのスムーズ度合い
var StartActionText= "Scroll"  // 開始させるリンクのテキスト
var StopActionText = "Pause"   // 停止させるリンクのテキスト

var x, scroll, divW, sText=""

function onclickIE(idAttr,handler,call){
  if ((document.all)&amp;amp;&amp;amp;(document.getElementById)){idAttr[handler]="Javascript:"+call}
}

function addLink(id,call,txt){
  var e=document.createElement('a')
  e.setAttribute('href',call)
  var linktext=document.createTextNode(txt)
  e.appendChild(linktext)
  document.getElementById(id).appendChild(e)
}

function getElementStyle() {
    var elem = document.getElementById('scroller');
    if (elem.currentStyle) {
        return elem.currentStyle.overflow;
    } else if (window.getComputedStyle) {
        var compStyle = window.getComputedStyle(elem, '');
        return compStyle.getPropertyValue("overflow");
    }
    return "";
}

function addControls(){
// 最初にCSSサポートをテスト
// style要素又は外部ファイルで定義されたoverflowプロパティ値をテスト
if (getElementStyle()=="hidden") {
  var f=document.createElement('div');
  f.setAttribute('id','controls');
  document.getElementById('scroller').parentNode.appendChild(f);
  addLink('controls','Javascript:clickAction(0)',StopActionText);
  onclickIE(document.getElementById('controls').childNodes[0],"href",'clickAction(0)');
  document.getElementById('controls').style.display='block';
  }
}

function stopScroller(){clearTimeout(scroll)}

function setAction(callvalue,txt){
  var c=document.getElementById('controls')
  c.childNodes[0].setAttribute('href','Javascript:clickAction('+callvalue+')')
  onclickIE(document.getElementById('controls').childNodes[0],"href",'clickAction

('+callvalue+')')
  c.childNodes[0].firstChild.nodeValue=txt
}

function clickAction(no){
  switch(no) {
    case 0:
      stopScroller();
      setAction(1,StartActionText);
      break;
    case 1:
      startScroller();
      setAction(0,StopActionText);
  }
}

function startScroller(){
  document.getElementById('tag').style.whiteSpace='nowrap'
  var p=document.createElement('p')
  p.id='testP'
  p.style.fontSize='25%' //mozilla向け修正 使用する前に4倍する
  x-=step
  if (document.getElementById('tag').className) p.className=document.getElementById

('tag').className
  p.appendChild(document.createTextNode(sText))
  document.body.appendChild(p)
  pw=p.offsetWidth
  document.body.removeChild(p)
  if (x&lt;(pw*4)*-1){x=divW}
  document.getElementById('tag').style.left=x+'px'
  scroll=setTimeout('startScroller()',speed)
}

function initScroller(){
  if (document.getElementById &amp;amp;&amp;amp; document.createElement &amp;amp;&amp;amp; document.body.appendChild) {
    addControls();
    divW=document.getElementById('scroller').offsetWidth;
    x=divW;
    document.getElementById('tag').style.position='relative';
    document.getElementById('tag').style.left=divW+'px';
    var ss=document.getElementById('tag').childNodes;
    for (i=0;i&lt;ss.length;i++) {sText+=ss[i].nodeValue+" "};
    scroll=setTimeout('startScroller()',speed);
  }
}

function addLoadEvent(func) {
  if (!document.getElementById | !document.getElementsByTagName) return
  var oldonload = window.onload
  if (typeof window.onload != 'function') {
    window.onload = func;
  } else {
    window.onload = function() {
      oldonload()
      func()
    }
  }
}

addLoadEvent(initScroller)</code></pre></div><div class="textbody"><p>このコードの実装サンプル: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR33/Overview.html">コンテンツのスクロールにスクリプトを用い、停止する仕組みを提供しているサンプル</a></p></div></div><h3 id="SCR33-resources">参考リソース</h3><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>
                  <a href="http://www.websemantics.co.uk/tutorials/accessible_scroller/">webSemantics Accessible Scroller</a>
               </p></li></ul></div><h3 id="SCR33-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/G4">G4: コンテンツを一時停止させて、一時停止させたところから再開できるようにする</a></li></ul></div><h3 id="SCR33-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR33-procedure">手順</h4><ol class="enumar"><li><p>スクロールするコンテンツを一時停止するメカニズムが提供されていることを確認する。</p></li><li><p>一時停止するメカニズムを用いて、コンテンツのスクロールを一時停止する。</p></li><li><p>スクロールが停止し、自動的に再起動しないことを確認する。</p></li><li><p>一時停止中のコンテンツを再起動できるメカニズムが提供されていることを確認する。</p></li><li><p>提供されている再起動のメカニズムを用いて、コンテンツのスクロールを再起動する。</p></li><li><p>停止していた位置からスクロールが再開されることを確認する。</p></li></ol><h4 class="small-head" id="SCR33-results">期待される結果</h4><ul><li><p>3. 及び 6. の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR34" id="SCR34"> </a>SCR34: テキストサイズに応じて拡大縮小するように、サイズ及びポジションを定める</h2><div class="applicability"><h3 id="SCR34-applicability">適用 (対象)</h3><div class="textbody"><p>クライアントサイドスクリプティング</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#visual-audio-contrast-scale">
				達成基準 1.4.4 (テキストのサイズ変更)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#visual-audio-contrast-scale">
						クイックリファレンス 1.4.4 (テキストのサイズ変更)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/visual-audio-contrast-scale.html">
						達成基準 1.4.4 (テキストのサイズ変更)を理解する
					</a></li></ul><div class="note"><p class="prefix"><em>注記:</em> この達成方法は、<a href="https://waic.jp/docs/WCAG20/Overview.html#visual-audio-contrast-scale">達成基準 1.4.4</a> を満たす他の達成方法と組み合わせなければならない。詳細については、 <a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/visual-audio-contrast-scale.html">達成基準 1.4.4 を理解する</a>を参照すること。</p></div></li><li><a href="https://waic.jp/docs/WCAG20/Overview.html#visual-audio-contrast-visual-presentation">
				達成基準 1.4.8 (視覚的提示)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#visual-audio-contrast-visual-presentation">
						クイックリファレンス 1.4.8 (視覚的提示)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/visual-audio-contrast-visual-presentation.html">
						達成基準 1.4.8 (視覚的提示)を理解する
					</a></li></ul><div class="note"><p class="prefix"><em>注記:</em> この達成方法は、<a href="https://waic.jp/docs/WCAG20/Overview.html#visual-audio-contrast-visual-presentation">達成基準 1.4.8</a> を満たす他の達成方法と組み合わせなければならない。詳細については、 <a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/visual-audio-contrast-visual-presentation.html">達成基準 1.4.8 を理解する</a>を参照すること。</p></div></li></ul><div class="ua-issues"><h3 class="small-head" id="ua1.19.1">ユーザエージェント及び支援技術によるサポート</h3><p><a href="./ua-notes/client-side-script.html#SCR34">SCR34 に関するユーザエージェントサポートノート</a>を参照のこと。</p></div><h3 id="SCR34-description">解説</h3><div class="textbody"><p>この達成方法の目的は、文字サイズが拡大縮小されるのに従って、適切に拡大縮小する方法で要素のサイズ及びポジションを計算することである。</p><p>ここに要素のサイズとポジションを決める JavaScript の四つのプロパティがある:</p><ul><li><p>
                        <code>offsetHeight</code> (ピクセルでの要素の高さ)</p></li><li><p>
                        <code>offsetWidth</code> (ピクセルでの要素の幅)</p></li><li><p>
                        <code>offsetLeft</code> (ピクセルでの親要素 (offsetParent) の左からの距離)</p></li><li><p>
                        <code>offsetTop</code> (ピクセルでの親要素 (offsetParent) の上からの距離)</p></li></ul><p><code>offsetHeight</code> や <code>offsetWidth</code> を用いて高さや幅を定めることは簡単である、しかし、オブジェクトの左とトップの位置を絶対配置の値として定める時、親要素を考える必要がある。下記において、<code>calculatePosition</code> 関数は、要素におけるすべての親ノードの最終的な値が決定するまで繰り返されている。その関数は <code>objElement</code> (当該の要素の名前) とオフセットプロパティ (<code>offsetLeft</code> 又は <code>offsetTop</code> ) の二つの引数を取っている。</p></div><h3 class="small-head" id="SCR34-examples">事例</h3><h4 class="small-head" id="SCR34-ex1">事例 1</h4><div class="example"><div class="textbody"><p>Javascript の関数:</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
function calculatePosition(objElement, strOffset)
{
    var iOffset = 0;

    if (objElement.offsetParent)
    {
        do 
        {
            iOffset += objElement[strOffset];
            objElement = objElement.offsetParent;
        } while (objElement);
    }

    return iOffset;
}</code></pre></div><div class="textbody"><p>次の事例は、上の関数がオブジェクトを、参照オブジェクトの下、かつ、左から同じ距離に配置するために用いられていることを示している:</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
// Get a reference object
var objReference = document.getElementById('refobject');
// Get the object to be aligned
var objAlign = document.getElementById('lineup');

objAlign.style.position = 'absolute';
objAlign.style.left = calculatePosition(objReference, 'offsetLeft') + 'px';
objAlign.style.top = calculatePosition(objReference, 'offsetTop') + objReference.offsetHeight + 'px';</code></pre></div></div><h3 id="SCR34-resources">参考リソース</h3><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>
                  <a href="https://msdn.microsoft.com/en-us/library/bb250395(VS.85).aspx#cssenhancements_topic3">MSDN: Fix the Box Instead of Thinking Outside It</a>
               </p></li></ul><div class="note"><p class="prefix"><em>訳注: </em>「MSDN: Fix the Box Instead of Thinking Outside It」はリソースがリダイレクトされているが適切に処理されていない。代わりに、MDN の <a href="https://developer.mozilla.org/docs/Web/API/HTMLElement/offsetHeight">HTMLElement.offsetHeight</a>、<a href="https://developer.mozilla.org/docs/Web/API/HTMLElement/offsetWidth">HTMLElement.offsetWidth</a>、<a href="https://developer.mozilla.org/docs/Web/API/HTMLElement/offsetLeft">HTMLElement.offsetLeft</a>、<a href="https://developer.mozilla.org/docs/Web/API/HTMLElement/offsetTop">HTMLElement.offsetTop</a> をそれぞれ参照できる。</p></div></div><h3 id="SCR34-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/C12">C12: フォントサイズにパーセントを使用する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/C14">C14: フォントサイズに em 単位を使用する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/C17">C17: テキストを含むフォーム要素を拡大縮小する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/C20">C20: ブラウザがサイズ変更されるときに、行が平均で 80 字以下になるようなカラムの幅を設定するために、相対長さを使用する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/C24">C24: コンテナのサイズに CSS のパーセント値を使用する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/G206">G206: 利用者が横スクロールをしなくてもテキストの行を読めるようにするような、レイアウトを切り替えるオプションをコンテンツの中で提供する</a></li></ul></div><h3 id="SCR34-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR34-procedure">手順</h4><ol class="enumar"><li><p>テキストサイズの変更とともにテキストコンテナのサイズを調整するように設計されているページを開く。</p></li><li><p>ブラウザのテキストサイズ調節を使って 200% のサイズまで大きくする。(ズーム機能は使用しない)</p></li><li><p>テキストコンテナのサイズがテキストサイズに合わせて調整されることを確認する。</p></li><li><p>テキストサイズを大きくした結果、どのテキストも「切り取られ」たり、見えなくなっていたりしないことを確認する。</p></li></ol><h4 class="small-head" id="SCR34-results">期待される結果</h4><ul><li><p>3.及び 4.の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR35" id="SCR35"> </a>SCR35: アンカー及びボタンの onclick イベントを用いて、アクションをキーボード操作可能にする</h2><div class="applicability"><h3 id="SCR35-applicability">適用 (対象)</h3><div class="textbody"><p>HTML 又は XHTML で使用されるスクリプト。</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#keyboard-operation-keyboard-operable">
				達成基準 2.1.1 (キーボード)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#keyboard-operation-keyboard-operable">
						クイックリファレンス 2.1.1 (キーボード)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/keyboard-operation-keyboard-operable.html">
						達成基準 2.1.1 (キーボード)を理解する
					</a></li></ul></li><li><a href="https://waic.jp/docs/WCAG20/Overview.html#keyboard-operation-all-funcs">
				達成基準 2.1.3 (キーボード (例外なし) )</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#keyboard-operation-all-funcs">
						クイックリファレンス 2.1.3 (キーボード (例外なし) )
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/keyboard-operation-all-funcs.html">
						達成基準 2.1.3 (キーボード (例外なし) )を理解する
					</a></li></ul></li></ul><h3 id="SCR35-description">解説</h3><div class="textbody"><p>この達成方法の目的は、キーボードでアクセス可能なコントロールに加えることで、キーボードでアクセス可能になるスクリプトの関数を呼び出す方法について説明することである。スクリプトによる動きが確実にキーボードから呼び出されるように、それらの動きは「ネイティブに実行可能な」HTML 要素 (リンク及びボタン) に関連付けられている。これらの要素の onclick イベントは機器に依存していない。「onclick」という表現はマウスに関連付けられているようにも思えるが、onclick イベントは実際のところ、リンク又はボタンのデフォルトの動きにマッピングされている。デフォルトの動きは、利用者がマウスで要素をクリックしたときに発生するが、要素にフォーカスして Enter キーやスペースキーを押したとき及び、他のアクセシビリティ API によってトリガーされたときにも発生する。</p><p>この達成方法はクライアントサイドスクリプトに依存しているが、スクリプトが利用できない環境に対する、代替としての実装又は説明として意味がある。アンカー要素を使って JavaScript によるアクションを呼び出すとき、代替としての実装又は説明は <code>href</code> 属性によって提供される。ボタンを使用するときは、フォームの送信によって提供される。</p></div><h3 class="small-head" id="SCR35-examples">事例</h3><h4 class="small-head" id="SCR35-ex1">事例 1</h4><div class="example"><div class="textbody"><p>スクリプトを実行するリンクで、スクリプトをサポートしていないブラウザに対して代替手段を持たないもの。この方法は、スクリプトがアクセシビリティ サポーテッドな技術に依存しているときのみに使用されるべきである。</p><p>このリンクからナビゲートしたくないのではあるが、これを実際のリンクにし、適切なイベントを得るために、<code>a</code> 要素上の href 属性を使わなければならない。この事例では、我々は「#」をリンクターゲットとして使用しているが、何を使用しても良い。このリンクからナビゲートされることはない。</p><p>doStuff() イベントハンドリング関数の最後にある「return false;」は、ブラウザにその URI へ移動しないよう指示している。それがなければ、ページはスクリプト実行後に再読み込みされることになる。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;script&gt; 
function doStuff()
 {
  //do stuff
    return false;
  }
&lt;/script&gt;
&lt;a href="#" onclick="return doStuff();"&gt;do stuff&lt;/a&gt; </code></pre></div></div><h4 class="small-head" id="SCR35-ex2">事例 2</h4><div class="example"><div class="textbody"><p>スクリプトを実行するリンクであるが、スクリプトが実行可能でなければ他のページに移動させるもの。この方法はスクリプトに依存しないサイトで、移動先がスクリプトと同じ機能を提供している場合にのみ使用される。この例は、href が実在するページである dostuff.htm に設定されていること以外は、事例 1と同じである。dostuff.htmでは、スクリプトと同じ機能を提供しなければならない。doStuff() イベントハンドリング関数の最後にある「return false;」が、ブラウザにその URI へ移動しないように指示している。そうでなければ、ブラウザはスクリプト実行後に dostuff.htm に移動してしまう。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;script&gt; 
function doStuff() 
 {  
  //do stuff  
  return false; 
 }
&lt;/script&gt;
&lt;a href="dostuff.htm" onclick="return doStuff();"&gt;do stuff&lt;/a&gt; </code></pre></div><div class="textbody"><p>このコードの実装サンプル: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR35/jslink.html">JavaScriptを用いてアクションリンクを作成</a></p></div></div><h4 class="small-head" id="SCR35-ex3">事例 3</h4><div class="example"><div class="textbody"><p>スクリプトを実行して、かつスクリプトを使わない利用者のためにフォーム送信を代替とするボタン。このアプローチは、スクリプトに依存しないサイトで、フォームの送信がスクリプトと同じ機能を提供できる場合にのみ使用できる。onsubmit="return false;" はフォームから送信されるのを防ぐ。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;script&gt;
  function doStuff()
 {
     //do stuff
 }
&lt;/script&gt;
&lt;form action="doStuff.aspx" onsubmit="return false;"&gt;
 &lt;input type="submit" value="Do Stuff" onclick="doStuff();" /&gt;
&lt;/form&gt; </code></pre></div><div class="textbody"><p>このコードの実装サンプル: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR35/jsbutton.html">JavaScript を用いてアクションボタンを作成</a></p></div></div><h4 class="small-head" id="SCR35-ex4">事例 4</h4><div class="example"><div class="textbody"><p>スクリプトを実行するボタンで、<code>input type="image"</code> を用いて実装されているもの。<code>input</code> には、画像と等価のテキストを提供するために、タイトル属性を追加しなければならないことに注意する。この方法は、スクリプトに依存しているときのみに利用すべきである。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;script&gt;
  function doStuff()
  {
     //do stuff
   return false;
  }
&lt;/script&gt;
&lt;input type="image" src="stuff.gif" title="Do stuff" onclick="return doStuff();" /&gt; </code></pre></div></div><h4 class="small-head" id="SCR35-ex5">事例 5</h4><div class="example"><div class="textbody"><p>スクリプトを実行するボタンで、<code>input type="submit"</code>、<code>input type="reset"</code> 又は <code>input type="button"</code> のいずれかを用いて実装されているもの。この方法は、スクリプトに依存しているときのみに利用すべきである。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;input type="submit" onclick="return doStuff();" value="Do Stuff" /&gt;</code></pre></div></div><h4 class="small-head" id="SCR35-ex6">事例 6</h4><div class="example"><div class="textbody"><p>スクリプトを実行するボタンで、<code>button</code>…<code>/button</code> を用いて実装されているもの。これは、ボタンの見た目をより詳細に調整したいときに有効である。この特定の例では、ボタンはアイコンとテキストの両方を含んでいる。この方法は、スクリプトに依存しているときのみに利用すべきである。 </p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
&lt;button onclick="return doStuff();"&gt;
 &lt;img src="stuff.gif" alt="stuff icon"&gt;
 Do Stuff
&lt;/button&gt;</code></pre></div></div><h3 id="SCR35-resources">参考リソース</h3><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>
                  <a href="http://www.w3.org/TR/REC-html40/interact/scripts.html">HTML 4.01 Scripts</a>
               </p></li><li><p>
                  <a href="http://www.w3.org/TR/REC-html40/interact/forms.html">HTML 4.01 Forms</a>
               </p></li><li><p>
                  <a href="http://www.w3.org/TR/REC-html40/struct/links.html">HTML 4.01 Links</a>
               </p></li><li><p>
                  <a href="http://www.w3.org/DOM/DOMTR">Document Object Model (DOM) Technical Reports</a>
               </p></li></ul><div class="note"><p class="prefix"><em>訳注 1:
					</em>HTML 4.01 は Superseded Recommendation としてマークされ、廃止された仕様である。上記はそれぞれ、<a href="https://www.w3.org/TR/html52/semantics-scripting.html#semantics-scripting">HTML 5.2§4.12. Scripting</a>、<a href="https://www.w3.org/TR/html52/sec-forms.html#sec-forms">HTML 5.2§4.10. Forms</a>、<a href="https://www.w3.org/TR/html52/links.html#links">HTML 5.2§4.8. Links</a>を代わりに参照できる。</p><p class="prefix"><em>訳注 2:
					</em>DOM 仕様は現在、WHATWG で策定されている。<a href="https://dom.spec.whatwg.org/">DOM Standard</a> も参照のこと。</p></div></div><h3 id="SCR35-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/G90">G90: キーボードがトリガーとなるイベントハンドラを提供する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/G108">G108: 名前 (name) 及び役割 (role) を公開し、利用者が設定可能なプロパティを直接設定可能にして、変化の通知を提供するために、マークアップを用いる</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/H91">H91: HTML のフォームコントロール及びリンクを使用する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/SCR20">SCR20: キーボードとその他のデバイス固有の機能を両方とも使用する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/SCR24">SCR24: 利用者の要求に応じて新しいウィンドウを開くために、プログレッシブエンハンスメントを使用する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/F42">F42: 達成基準 1.3.1、達成基準 2.1.1、達成基準 2.1.3、又は達成基準 4.1.2 の失敗例 － リンクをエミュレートしている</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/F59">F59: 達成基準 4.1.2 の失敗例 － コントロールに役割 (role) を提供せずに、HTML の div 要素又は span 要素をユーザインタフェースコントロールにするために、スクリプトを用いている</a></li></ul></div><h3 id="SCR35-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR35-procedure">手順</h4><p><code>a</code>、<code>button</code>、又は <code>input</code> 要素と関連付けられたすべてのスクリプトのアクションについて:</p><ol class="enumar"><li><p>スクリプトをサポートするユーザエージェントで:</p><ul><li><p>マウスを用い、コントロールをクリックする。</p></li><li><p>スクリプトのアクションが適切に実行されることを確認する。</p></li><li><p>コントロールがアンカー要素である場合、アンカー要素の <code>href</code> 属性の URI が呼び出されないことを確認する。</p></li><li><p>キーボードでコントロールに移動して、フォーカスを与えることが可能であることを確認する。</p></li><li><p>キーボードのフォーカスをコントロールに設定する。</p></li><li><p>Enter キーを押すことで、スクリプトのアクションを呼び出すことを確認する。</p></li><li><p>コントロールがアンカー要素である場合、アンカー要素の <code>href</code> 属性の URI が呼び出されないことを確認する。</p></li></ul></li><li><p>スクリプトをサポートしていないユーザエージェントで:</p><ul><li><p>マウスでコントロールをクリックする。</p></li><li><p>コントロールがアンカー要素である場合、アンカー要素の <code>href</code> 属性の URI が呼び出されることを確認する。</p></li><li><p>キーボードでコントロールに移動して、フォーカスを与えることが可能であることを確認する。</p></li><li><p>キーボードのフォーカスをコントロールに設定する。</p></li><li><p>コントロールがアンカー要素である場合、Enter キーを押すことでアンカー要素の <code>href</code> 属性の URI が呼び出されることを確認する。</p></li></ul></li></ol><h4 class="small-head" id="SCR35-results">期待される結果</h4><ul><li><p>上記の手順全ての結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR36" id="SCR36"> </a>SCR36: 静的なウィンドウ又は領域にある、動きのあるテキスト、スクロールするテキスト、又は自動更新されるテキストを利用者が表示できるメカニズムを提供する</h2><div class="applicability"><h3 id="SCR36-applicability">適用 (対象)</h3><div class="textbody"><p>動く、点滅する、又はテキストを更新し、静的なテキストブロックを生成する全てのウェブコンテンツ技術</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#time-limits-required-behaviors">
				達成基準 2.2.1 (タイミング調整可能)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#time-limits-required-behaviors">
						クイックリファレンス 2.2.1 (タイミング調整可能)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/time-limits-required-behaviors.html">
						達成基準 2.2.1 (タイミング調整可能)を理解する
					</a></li></ul></li></ul><h3 id="SCR36-description">解説</h3><div class="textbody"><p>スペースが限られているために、スクロールするテキストを表示するウェブページがある。小さなテキストウィンドウの中でテキストをスクロールさせることにより、その速度にあわせて読むことができる利用者にはコンテンツが利用可能となるが、それよりも速度が読むのが遅い利用者や、支援技術の利用者にとっては問題となる。この達成方法では、動きを止めて、テキストブロック全体を静的に利用可能にするメカニズムを提供する。テキストは別ウィンドウかページ中の (より大きな) セクションで利用可能になるだろう。そうすることで、利用者はテキストを自分の速度で読むことができる。</p><p>この達成方法は、動いているテキストが全て同時に画面に表示できない場合 (例: 長いチャットでの会話) には適用されない。</p><div class="note"><p class="prefix"><em>注記: </em>この達成方法は、不適合のコンテンツのための<a href="https://waic.jp/docs/WCAG20/Overview.html#conforming-alternate-versiondef" class="gl-ref">適合している代替版</a>のページを表示するためのスタイルスイッチの達成方法とあわせて利用できる。詳細については、<a href="https://waic.jp/docs/WCAG-TECHS/C29" class="tech-ref">C29: 適合している代替版を提供するために、スタイルスイッチャーを使用する</a>  (CSS)
			及び<a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/conformance.html#uc-conforming-alt-versions-head" class="understanding-ref">適合している代替版を理解する</a>を参照のこと。</p></div></div><h3 class="small-head" id="SCR36-examples">事例</h3><h4 class="small-head" id="SCR36-ex1">事例 1: スクロールするテキストを展開する</h4><div class="example"><div class="textbody"><p>大きなテキストブロックがページ中の小さなマーキーの範囲をスクロールする。ボタンにより、利用者はスクロールを止め、テキストブロック全体を表示することができる。</p><div class="note"><p class="prefix"><em>注記: </em>このコード例では CSS と JavaScript の両方が利用可能で有効になっている必要がある。</p></div><p>CSS 部分:</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
#scrollContainer {
        visibility: visible;
        overflow: hidden;
        top: 50px; left: 10px;
        background-color: darkblue;
      }
      .scrolling {
        position: absolute;
        width: 200px;
        height: 50px;
      }
      .notscrolling {
        width: 500px;
        margin:10px;
      }
      #scrollingText {
        top: 0px;
        color: white;
      }
      .scrolling #scrollingText {
        position: absolute;
      }
      &lt;/a&gt; </code></pre></div><div class="textbody"><p>スクリプト及び HTML コンテンツ:</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>&lt;script type="text/javascript"&gt;

      var tid;
      function init() {
        var st = document.getElementById('scrollingText');
        st.style.top = '0px';
        initScrolling();
      }
      function initScrolling () {
        tid = setInterval('scrollText()', 300);
      }
      function scrollText () {
        var st = document.getElementById('scrollingText');
        if (parseInt(st.style.top) &gt; (st.offsetHeight*(-1) + 8)) {
          st.style.top = (parseInt(st.style.top) - 5) + 'px';
        } else {
          var sc = document.getElementById('scrollContainer');
          st.style.top = parseInt(sc.offsetHeight) + 8 + 'px';
        }
      }
      function toggle() {
        var scr = document.getElementById('scrollContainer');
        if (scr.className == 'scrolling') {
          scr.className = 'notscrolling';
          clearInterval(tid);
           document.getElementById('scrollButton').value="Shrink";
        } else {
          scr.className = 'scrolling';
          initScrolling();
          document.getElementById('scrollButton').value="Expand";
        }
      }
  &lt;input type="button" id="scrollButton" value="Expand" onclick="toggle()" /&gt;
  &lt;div id="scrollContainer" class="scrolling"&gt;
    &lt;div id="scrollingText" class="on"&gt;
    .... Text to be scrolled ...
    &lt;/div&gt;
  &lt;/div&gt;
...
</code></pre></div><div class="textbody"><p>このコードの実装サンプル: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR36/scrolltext.html">スクロールするテキストを展開</a></p></div></div><h3 id="SCR36-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/G4">G4: コンテンツを一時停止させて、一時停止させたところから再開できるようにする</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/G187">G187: ユーザエージェントによって点滅するコンテンツを停止できるウェブコンテンツ技術を使用する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/SCR33">SCR33: コンテンツをスクロールし、かつそれを一時停止するメカニズムを提供するためにスクリプトを使用する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/SCR22">SCR22: 点滅を制御し、5 秒以内に停止させるために、スクリプトを使用する</a></li></ul></div><h3 id="SCR36-tests">検証</h3><div class="textbody"><p>この達成方法に利用可能な検証はない。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR37" id="SCR37"> </a>SCR37: デバイス非依存な方法でカスタムダイアログを作成する</h2><div class="applicability"><h3 id="SCR37-applicability">適用 (対象)</h3><div class="textbody"><p>スクリプトで使用される HTML 及び XHTML</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#navigation-mechanisms-focus-order">
				達成基準 2.4.3 (フォーカス順序)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#navigation-mechanisms-focus-order">
						クイックリファレンス 2.4.3 (フォーカス順序)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/navigation-mechanisms-focus-order.html">
						達成基準 2.4.3 (フォーカス順序)を理解する
					</a></li></ul></li></ul><h3 id="SCR37-description">解説</h3><div class="textbody"><p>コンテンツ制作者はしばしば、ブラウザによって提供されるポップアップウインドウを使わずに、独自のダイアログを作成したがる。これは通常、ダイアログのコンテンツを <code>div</code> の中に収めて、その <code>div</code> をコンテンツの上に CSS による重なり順及び絶対配置を用いて配置するというやり方でおこなわれる。</p><p>これらのダイアログをアクセシブルにするには、いくつかの簡単なルールに従う必要がある。</p><ol class="enumar"><li><p>リンクやボタンの <code>onclick</code> イベントからダイアログを起動するスクリプトをトリガーにする。</p></li><li><p>ダイアログの <code>div</code> を Document Object Model (DOM) の中、トリガーした要素の直後に配置する。トリガーした要素がフォーカスを保持し、ダイアログのコンテンツをその要素のあとに挿入することで、ダイアログの中のコンテンツがスクリーンリーダーの読み上げ順序で次になり、タブ順序も次になる。それでも、ダイアログは視覚的にページ上のあらゆる場所に絶対配置できる。これは、下の例のようにダイアログを HTML の中で作成し、CSS で非表示にする方法又は、トリガーした要素の直後にスクリプトで挿入する方法のどちらでも実装できる。</p></li><li><p>ダイアログの div 内部の HTML が、その他のコンテンツと同じアクセシビリティガイドラインの要件を満たしていることを保証する。</p></li></ol><p>リンクがダイアログを開閉できたり、キーボードのフォーカスが外れるとダイアログが閉じるようにしたりすることはすばらしいが、必ずしも必要なわけではない。</p><div xmlns="" class="note"><p class="prefix"><em>訳注:</em> WAIC では 
SCR37
 に関する<a href="https://waic.jp/docs/as/">アクセシビリティ・サポーテッド（AS）情報</a>を提供している。</p><p>2014 年 6 月版の<a href="https://waic.jp/docs/as/info/201406/SCR37.html">アクセシビリティ・サポーテッド（AS）情報: SCR37</a>
    では、「要注意」と評価されている。WAIC はウェブ制作者にこの達成方法が一部の環境では動作しないことに注意を促すものである。
  </p></div></div><h3 class="small-head" id="SCR37-examples">事例</h3><h4 class="small-head" id="SCR37-ex1">事例 1: ダイアログを開くオプションボタン</h4><div class="example"><div class="textbody"><p>この例の HTML には、トリガーとなる要素、この場合はボタンとダイアログのフレームとして機能する div がある。</p><p>トリガーとなる要素はボタンで、スクリプトは onclick イベントのトリガーである。これは適切なイベントをオペレーティングシステムに送るので、支援技術は DOM の中の変化に気がつくことができる。</p><p>この例では、ダイアログ内の送信及びリセットボタンは単純に <code>div</code> に隠れている。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>...
&lt;button onclick="TogglePopup(event,true)"
	name="pop0001"&gt;Options&lt;/button&gt;
&lt;div class="popover" id="pop0001"&gt;
  &lt;h3&gt;Edit Sort Information&lt;/h3&gt;
  &lt;form action="default.htm" onsubmit="this.parentNode.style.display='none'; return false;" onreset="this.parentNode.style.display='none'; return false;"&gt;
    &lt;fieldset&gt;
      &lt;legend&gt;Sort Order&lt;/legend&gt; 
      &lt;input type="radio" name="order" id="order_alpha" /&gt;&lt;label for="order_alpha"&gt;Alphabetical&lt;/label&gt;
      &lt;input type="radio" name="order" id="order_default" checked="true" /&gt;&lt;label for="order_default"&gt;Default&lt;/label&gt;
    &lt;/fieldset&gt;
&lt;div class="buttons"&gt;
  &lt;input type="submit" value="OK" /&gt;
  &lt;input type="reset" value="Cancel" /&gt;
&lt;/div&gt;
&lt;/form&gt;
&lt;/div&gt;
...
</code></pre></div><div class="textbody"><p><code>div</code>、見出し、及び <code>form</code> 要素は CSS でダイアログに見えるようにスタイル付けされている。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>...
a { color:blue; }
a.clickPopup img { border:none; width:0; }

div.popover { position:absolute; display:none; border:1px outset; background-color:beige; font-size:80%; background-color:#eeeeee; color:black; }
div.popover h3 { margin:0; padding:0.1em 0.5em; background-color:navy; color:white; }
#pop0001 { width:20em; }
#pop0001 form { margin:0; padding:0.5em; }
#pop0001 fieldset { margin-bottom:0.3em; padding-bottom:0.5em; }
#pop0001 input, #pop0001 label { vertical-align:middle; }
#pop0001 div.buttons { text-align:right; }
#pop0001 div.buttons input { width:6em; }
...</code></pre></div><div class="textbody"><p>スクリプトはポップアップする <code>div</code> の表示を切り替え、表示させたり隠したりする。</p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>...
function TogglePopup(evt,show)
{
	HarmonizeEvent(evt);
	var src = evt.target;
	if ("click" == evt.type)
	{
		evt.returnValue = false;
	}
	var popID = src.getAttribute("name");
	if (popID)
	{
		var popup = document.getElementById(popID);
		if (popup)
		{
			if (true == show)
			{
				popup.style.display = "block";
			}
			else if (false == show)
			{
				popup.style.display = "none";
			}
			else
			{
				popup.style.display = "block" == popup.style.display ? "none" : "block";
			}
			if ("block" == popup.style.display)
			{
				//window.alert(document.documentElement.scrollHeight);
				popup.style.top = ((document.documentElement.offsetHeight - popup.offsetHeight) / 2 ) + 'px';
				popup.style.left = ((document.documentElement.offsetWidth - popup.offsetWidth) / 2) + 'px';
			}
		}
	}
}

function SubmitForm(elem)
{ 
	elem.parentNode.style.display='none'; 
	return false;
}

function ResetForm(elem)
{ 
	elem.parentNode.style.display='none'; 
	return false;
}
...</code></pre></div><div class="textbody"><p>このコードの実装サンプル: <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR37/default.htm">ダイアログを開くオプションボタン</a></p></div></div><h3 id="SCR37-resources">参考リソース</h3><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>Microsoft Developer Network Whitepaper:<a href="http://download.microsoft.com/download/0/f/5/0f5e941c-c495-401a-9031-eab8315da35e/writing_accessible_web_applications.doc"> Writing Accessible Web Applications</a> by Cynthia C. Shelly and George Young. (Microsoft Word Format)</p></li><li><p>
                  <a href="https://msdn.microsoft.com/en-us/library/ms695716.aspx">Microsoft Active Accessibility 2.0 SDK</a>. Includes Inspect32.exe and other MSAA tools.</p></li><li><p>
                  <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd318521(v=vs.85).aspx">Instructions for the Inspect tool</a>
               </p></li><li><p>
                  <a href="http://www.eramp.com/david/name-role-value-using-inspect.htm">Using the Inspect tool to find name Name, Role and Value for Javascript</a>
               </p></li><li><p>
                  <a href="http://www.microsoft.com/en-us/download/details.aspx?id=18359">Microsoft Internet Explorer Developer Toolbar.</a>. Allows examination of script-generated DOM in Microsoft Internet Explorer</p></li><li><p>
                  <a href="http://getfirebug.com/">Firebug</a>. Allows examination of script-generated DOM in Firefox. </p></li><div class="note"><p class="prefix"><em>訳注 1:
					</em>「Microsoft Internet Explorer Developer Toolbar」はページが削除されているが、代わりに開発者ツールを使用できる。詳細については、<a href="https://msdn.microsoft.com/ja-jp/library/dd565628%28v=vs.85%29.aspx">Internet Explorer 開発者ツールを理解する</a>を参照のこと。</p><p class="prefix"><em>訳注 2:
					</em>Firefox のアドオン「Firebug」は開発が終了している。代わりに開発ツールを使用できる。<a href="https://developer.mozilla.org/ja/docs/Tools">開発ツール | MDN</a> も参照のこと。</p><p class="prefix"><em>訳注 3:
					</em>Google Chrome の場合、類似のツールが利用できる。詳細については、<a href="https://developers.google.com/web/tools/chrome-devtools/?hl=ja">Chrome DevTools  |  Tools for Web Developers  |  Google Developers</a> を参照のこと。</p><p class="prefix"><em>訳注 4:
					</em>Edge の場合も、類似のツールが利用できる。詳細については、<a href="https://docs.microsoft.com/ja-jp/microsoft-edge/devtools-guide">Microsoft Edge Developer Tools - Microsoft Edge Development | Microsoft Docs</a> を参照のこと。</p></div></ul></div><h3 id="SCR37-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/SCR26">SCR26: 動的なコンテンツを、Document Object Model の、そのトリガーとなる要素の直後に挿入する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/G59">G59: コンテンツ内の順番及び関係に従った順序で、インタラクティブな要素を配置する</a></li></ul></div><h3 id="SCR37-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR37-procedure">手順</h4><ol class="enumar"><li><p>ポップアップウインドウでないダイアログのトリガーとなるものページ内の全ての場所を探す。</p></li><li><p>Tab キーでその場所に移動して Enter キーを押下することで、ダイアログを開くことができることを確認する。</p></li><li><p>一度開いたら、タブ順序でダイアログが次の位置にあることを確認する。</p></li><li><p>ダイアログがボタン又はリンクのクリックイベントからトリガーされていることを確認する。</p></li><li><p>スクリプトによって生成された DOM を検証できるツールを用いて、DOM 内でダイアログが次にあることを確認する。</p></li></ol><h4 class="small-head" id="SCR37-results">期待される結果</h4><ul><li><p>2.、3.、4. 及び 5. の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div></div><div class="technique"><hr class="divider" title="Beginning of new technique"/><h2><a name="SCR38" id="SCR38"> </a>SCR38: プログレッシブエンハンスメントで設計されたウェブページに対して、適合している代替版を作成する</h2><div class="applicability"><h3 id="SCR38-applicability">適用 (対象)</h3><div class="textbody"><p>HTML with scripting.</p></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#cc1">
					適合要件 1 (適合レベル)
				</a></li></ul><h3 id="SCR38-description">解説</h3><div class="textbody"><p>この達成方法の目的は、プログレッシブエンハンスメントで設計されたウェブページに適合する代替バージョンを提供することである。この達成方法は、スクリプトを用いて達成する方法を次のように示している:</p><ol class="enumar"><li><p>ウェブページの初期拡張バージョンを格納することで、後に拡張されたコンテンツのバージョンに対して「適合した代替バージョン」として機能できるようにし、かつ</p></li><li><p>すべての拡張されたバージョンのウェブページに対して、利用者がコンテンツを格納された初期拡張の代替バージョンに戻すことができる機能を実装する。</p></li></ol><p>プログレッシブエンハンスメントで設計されたウェブページはサポートされたウェブ技術を HTML 基盤のレイヤーに適用できるようにするため、ウェブ対応機器 (サイズ、機能及びソフトウェア) の特徴を検出する。より高度なアクセス機器のさまざまな機能に合わせて拡張バージョンのページが作成される一方で、そのようなウェブページの基本的なコンテンツと機能は、よりシンプルなウェブ対応機器を使用している人なら誰でも HTML 基盤を通じて利用することができる。</p><p>現在の代替バージョンのウェブページの要件は次のようになっている: 「注記 4: 様々な技術環境又は利用者層に対応するために、複数の代替バージョンを提供してもよい。この場合、各バージョンは可能なかぎり適合したものでなければならず、適合要件 1 を満たすためには、そのうちの一つのバージョンが完全に適合したものでなければならない。」プログレッシブエンハンスメントで設計されたウェブページは、どのバージョンを完全に適合したものとして選ぶかという問題を残しているが、どんな利用者においても不利な状況におかれないようにする。</p><p>この課題の解決策の一つは、広範囲のウェブ対応機器がコンテンツにアクセス可能なため、拡張前のウェブページ (例: スクリプト、スタイル、HTML ではないプラグインが無効時に作成される HTML のソースコードの DOM の状態) を「完全に適合したバージョン」として選択することである。</p><div class="note"><p class="prefix"><em>注記: </em>この達成方法はすべてのスクリプト、スタイル、プラグインを除外するが、これは WCAG 2.0 に適合するために必須ではないことを示す必要がある。制作者は類似した技術を使用することができるが、還元されたスタイルとスクリプトを「拡張前」のバージョンで保つことができる。</p></div><p>この技術は一つのバージョンで適合表明を行う方法を提供するが、制作者は各拡張版のウェブページが可能な限り適合するために作業し続けるべきである。</p></div><h3 class="small-head" id="SCR38-examples">事例</h3><h4 class="small-head" id="SCR38-ex1">事例 1: JavaScript を使用する</h4><div class="example"><div class="textbody"><p>この事例は「accToggle.js」ファイル内で JavaScript を使用し、HTML ソースコードのみで作成された拡張前のウェブページを格納することで、後に拡張されたウェブページの「適合した代替バージョン」として機能させることができる。そして、利用者がウェブページを最初の拡張前の「適合した代替バージョン」に戻せるよう、すべての拡張されたウェブページに切り替えリンクを設置する。注記: 「sayhello.js」ファイルは単なる外部のペイロードファイルの例であり、必要な他の外部スクリプトに置き換えられる。</p><p>accToggle.js ファイル内のスクリプトは拡張前のバージョンを格納し、このバージョンの URL に #accessible という接尾辞を付与する。「WCAG 2.0 適合する代替版」という (すべての拡張されたバージョンのページにおいて、<code>body</code> 要素の最初の子要素として設置される) リンクをクリックすることにより、接尾辞に「#accessible」とついた URL に変化し、<code>body</code> 要素と <code>head</code> 要素内の HTML を拡張前のコードに初期化する。拡張前の状態はリンクから、又は URL をブラウザに直接入力することでアクセスできる。さらに、拡張前の「適合する代替版」にリンクが追加され、利用者がウェブページを拡張版にすることができる (これはブラウザの戻るボタンからでも可能)。</p><p>acctoggle.js ソースコード:</p><div class="code"><pre><code>
window.onload = function(event) {

    // 拡張前のコンテンツを保管する
    var initialHead = document.head.innerHTML;
    var initialBody = document.body.innerHTML;
    var initialURL = location.href;
    
    var runOnce = function() {
         // ページ読み込み毎に実行したいペイロード　例: Google Analytics コード
    }
    
    var setup = function() {
         // 適合している代替版のリンクを作成する

        var toggleEnhanced = document.querySelector("#toggle_enhanced");
        if (toggleEnhanced) {
            toggleEnhanced.outerHTML = "";
        }
        
        var nel = document.createElement("a");
        nel.id = "acctoggle";
        nel.setAttribute("href", "#accessible");
        nel.innerHTML = "WCAG 2.0 conforming alternate version";
        document.body.insertBefore(nel, document.body.firstChild);
        
         // ペイロード
        var s = document.createElement("SCRIPT");
        s.setAttribute("src", "sayhello.js");
        document.querySelector("HEAD").appendChild(s);   
       }
    
    setup();
    runOnce();
    
    window.onpopstate = function(event) {
        if (location.href.indexOf("#accessible") != -1) {
             // コンテンツを拡張前のバージョンに戻す
            document.head.innerHTML = initialHead;
            document.body.innerHTML = initialBody;
            
            // create enhanced version link
            var el = document.createElement("a");
            el.id = "toggle_enhanced";
            el.setAttribute("href", "");
            el.innerHTML = "Enhanced version";
            var back = function(e) {
                 e.preventDefault();
                 window.history.back();
            }
            el.addEventListener("click", back, false);
            document.body.insertBefore(el, document.body.firstChild);
        }
        if (location.href == initialURL) {
            setup();
        }
    };
}
		 </code></pre></div><p>HTML ウェブページソースコード:</p><div class="code"><pre><code>&lt;!DOCTYPE html&gt;
  &lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;title&gt;Evaluera Ltd&lt;/title&gt;
        &lt;meta charset="UTF-8" /&gt;
        &lt;script src="accSwitch.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt; 
        &lt;h1&gt;Test Page&lt;/h1&gt;
        &lt;p&gt;Say: &lt;span id="change"&gt;Goodbye&lt;/span&gt;&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;			
		 </code></pre></div><p>sayhello.js ソースコード</p><div class="code"><pre><code>
var change = document.querySelector("#change");
change.innerText = "Hello";		
		 </code></pre></div></div></div><h4 class="small-head" id="SCR38-ex2">事例 2: EnhanceJS を使用する―プログレッシブエンハンスメントのアプリケーションを改善するために設計された Javascript フレームワーク</h4><div class="example"><div class="textbody"><p><a href="https://code.google.com/p/enhancejs/">EnhanceJS</a> は「高度なスタイルとスクリプトをページに適用する前に、JavaScript の主要な機能と CSS のサポートを最初にテストすることで、プログレッシブエンハンスメントのアプリケーションを改善するように設計された」オープンソースの JavaScript フレームワークである。さらに、デフォルトの EnhanceJS スクリプトは、利用者が拡張前のウェブページの状態に戻すことがでるよう、すべての拡張版のページに自動的に切り替えリンクを作成する。(EnhanceJS でデフォルトで設定されるこれを「低帯域幅版」と呼ぶ)。EnhanceJS ではこの設定は拡張前の状態が「低帯域幅版」ではなく、「WCAG 2.0 の適合している代替版」として認識されるよう変更されている。</p><p>HTML コンポーネント:</p><div class="code"><pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
    &lt;head&gt;
    &lt;script type="text/javascript" src="enhance.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
        // Run capabilities test
        enhance({
            loadStyles: [
                "example.css"
            ], 
            loadScripts: [
                "example.js"
            ],
            // text shown in enhanced mode
            forceFailText: "WCAG 2.0 conforming alternate version",
            // text shown in accessible mode
            forcePassText: "Enhanced version"
        });
    &lt;/script&gt;
    &lt;/head&gt;
    ....

</code></pre></div></div></div><h3 id="SCR38-resources">参考リソース</h3><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>
                  <a href="https://waic.jp/docs/WCAG-TECHS/C29.html#C29-sa1">クッキーを使用する</a></p></li><li><p><a href="https://waic.jp/docs/WCAG-TECHS/C29.html#C29-sa2">プログレッシブエンハンスメントとアンオブトルーシブ JavaScript</a></p></li></ul></div><h3 id="SCR38-related-techs">関連する達成方法</h3><div class="textbody"><ul><li><a href="https://waic.jp/docs/WCAG-TECHS/G136">G136: 不適合なウェブページの先頭に、適合している代替版を指すリンクを提供する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/C29">C29: 適合している代替版を提供するために、スタイルスイッチャーを使用する</a></li><li><a href="https://waic.jp/docs/WCAG-TECHS/SVR4">SVR4: 適合している代替版の表示に関する設定を利用者が行えるようにする</a></li></ul></div><h3 id="SCR38-tests">検証</h3><div class="textbody"><h4 class="small-head" id="SCR38-procedure">手順</h4><ol class="enumar"><li><p>拡張されたウェブページが「適合している代替版」へのリンクを含んでいる。</p></li><li><p>代替版が、オリジナルページの<a href="https://waic.jp/docs/WCAG20/Overview.html#conforming-alternate-versiondef">適合している代替版</a>であり、かつ要求された適合レベルで WCAG 2.0 に適合していることを確認する。</p></li></ol><h4 class="small-head" id="SCR38-results">期待される結果</h4><ul><li><p>1. 及び 2. の結果が真である。</p></li></ul><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div><hr class="divider" title="End of techniques"/></div></div></div><div class="back"> </div></div><div class="footer"><p class="copyright">このウェブページは、<a href="Overview.html">WCAG 2.0 達成方法集: WCAG 2.0 の達成方法と失敗例</a>の一部です。文書全体を<a href="complete.html">単一 HTML ファイルにしたもの</a>もご利用いただけます。この文書と、ウェブ・コンテンツ・アクセシビリティ・ガイドライン (WCAG) 2.0 に関連する他の文書との関係については、<a href="http://www.w3.org/WAI/intro/wcag20">The WCAG 2.0 Documents (英語)</a> をご覧ください。</p><p class="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p><p>【注意】 この文書は、W3C ワーキンググループノート <a href="https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/">Techniques for WCAG 2.0 の 2016 年 10 月 7 日時点での最新版</a>を、<a href="https://waic.jp/">ウェブアクセシビリティ基盤委員会 (WAIC)</a> が翻訳して公開しているものです。この文書の正式版は、W3C のサイトにある英語版です。正確な内容については、W3C が公開している原文 (英語) をご確認ください。この翻訳文書はあくまで参考情報であり、翻訳上の誤りが含まれていることがあります。翻訳上の誤りを見つけられた場合は、<a href="https://waic.jp/contact/" id="file-issue">翻訳に関するお問い合わせ</a>からご連絡ください。</p><p>【注意】 達成方法のタイトルが英語のままになっているものは、日本語訳を行っていないため、原文 (英語) にリンクしています。</p></div><script src="//www.w3.org/scripts/TR/2016/fixup.js"> </script></body></html>